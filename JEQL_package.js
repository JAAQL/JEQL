/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["JEQL"] = factory();
	else
		root["JEQL"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./JEQL.js":
/*!*****************!*\
  !*** ./JEQL.js ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ACTION_INTERNAL_APPLICATIONS\": () => (/* binding */ ACTION_INTERNAL_APPLICATIONS),\n/* harmony export */   \"ACTION_INTERNAL_APPLICATIONS_ADD\": () => (/* binding */ ACTION_INTERNAL_APPLICATIONS_ADD),\n/* harmony export */   \"ACTION_INTERNAL_APPLICATIONS_DEL\": () => (/* binding */ ACTION_INTERNAL_APPLICATIONS_DEL),\n/* harmony export */   \"ACTION_INTERNAL_APPLICATIONS_DELCONF\": () => (/* binding */ ACTION_INTERNAL_APPLICATIONS_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_ASSIGNED_DATABASES\": () => (/* binding */ ACTION_INTERNAL_ASSIGNED_DATABASES),\n/* harmony export */   \"ACTION_INTERNAL_ASSIGNED_DATABASE_ADD\": () => (/* binding */ ACTION_INTERNAL_ASSIGNED_DATABASE_ADD),\n/* harmony export */   \"ACTION_INTERNAL_ASSIGNED_DATABASE_DEL\": () => (/* binding */ ACTION_INTERNAL_ASSIGNED_DATABASE_DEL),\n/* harmony export */   \"ACTION_INTERNAL_ASSIGNED_DATABASE_DELCONF\": () => (/* binding */ ACTION_INTERNAL_ASSIGNED_DATABASE_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG\": () => (/* binding */ ACTION_INTERNAL_CONFIG),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_ADD\": () => (/* binding */ ACTION_INTERNAL_CONFIG_ADD),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_AUTH\": () => (/* binding */ ACTION_INTERNAL_CONFIG_AUTH),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_AUTH_ADD\": () => (/* binding */ ACTION_INTERNAL_CONFIG_AUTH_ADD),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_AUTH_DEL\": () => (/* binding */ ACTION_INTERNAL_CONFIG_AUTH_DEL),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_AUTH_DELCONF\": () => (/* binding */ ACTION_INTERNAL_CONFIG_AUTH_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_DEL\": () => (/* binding */ ACTION_INTERNAL_CONFIG_DEL),\n/* harmony export */   \"ACTION_INTERNAL_CONFIG_DELCONF\": () => (/* binding */ ACTION_INTERNAL_CONFIG_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_DATABASES\": () => (/* binding */ ACTION_INTERNAL_DATABASES),\n/* harmony export */   \"ACTION_INTERNAL_DATABASES_ADD\": () => (/* binding */ ACTION_INTERNAL_DATABASES_ADD),\n/* harmony export */   \"ACTION_INTERNAL_DATABASES_DEL\": () => (/* binding */ ACTION_INTERNAL_DATABASES_DEL),\n/* harmony export */   \"ACTION_INTERNAL_DATABASES_DELCONF\": () => (/* binding */ ACTION_INTERNAL_DATABASES_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_DATASETS\": () => (/* binding */ ACTION_INTERNAL_DATASETS),\n/* harmony export */   \"ACTION_INTERNAL_DATASETS_ADD\": () => (/* binding */ ACTION_INTERNAL_DATASETS_ADD),\n/* harmony export */   \"ACTION_INTERNAL_DATASETS_DEL\": () => (/* binding */ ACTION_INTERNAL_DATASETS_DEL),\n/* harmony export */   \"ACTION_INTERNAL_DATASETS_DELCONF\": () => (/* binding */ ACTION_INTERNAL_DATASETS_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_ACCOUNTS\": () => (/* binding */ ACTION_INTERNAL_EMAIL_ACCOUNTS),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_ACCOUNTS_ADD\": () => (/* binding */ ACTION_INTERNAL_EMAIL_ACCOUNTS_ADD),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_ACCOUNTS_DEL\": () => (/* binding */ ACTION_INTERNAL_EMAIL_ACCOUNTS_DEL),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_ACCOUNTS_DELCONF\": () => (/* binding */ ACTION_INTERNAL_EMAIL_ACCOUNTS_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_TEMPLATES\": () => (/* binding */ ACTION_INTERNAL_EMAIL_TEMPLATES),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_TEMPLATES_ADD\": () => (/* binding */ ACTION_INTERNAL_EMAIL_TEMPLATES_ADD),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_TEMPLATES_DEL\": () => (/* binding */ ACTION_INTERNAL_EMAIL_TEMPLATES_DEL),\n/* harmony export */   \"ACTION_INTERNAL_EMAIL_TEMPLATES_DELCONF\": () => (/* binding */ ACTION_INTERNAL_EMAIL_TEMPLATES_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_NODES\": () => (/* binding */ ACTION_INTERNAL_NODES),\n/* harmony export */   \"ACTION_INTERNAL_NODES_ADD\": () => (/* binding */ ACTION_INTERNAL_NODES_ADD),\n/* harmony export */   \"ACTION_INTERNAL_NODES_DEL\": () => (/* binding */ ACTION_INTERNAL_NODES_DEL),\n/* harmony export */   \"ACTION_INTERNAL_NODES_DELCONF\": () => (/* binding */ ACTION_INTERNAL_NODES_DELCONF),\n/* harmony export */   \"ACTION_INTERNAL_NODE_AUTHS\": () => (/* binding */ ACTION_INTERNAL_NODE_AUTHS),\n/* harmony export */   \"ACTION_INTERNAL_NODE_AUTHS_ADD\": () => (/* binding */ ACTION_INTERNAL_NODE_AUTHS_ADD),\n/* harmony export */   \"ACTION_INTERNAL_NODE_AUTHS_DEL\": () => (/* binding */ ACTION_INTERNAL_NODE_AUTHS_DEL),\n/* harmony export */   \"ACTION_INTERNAL_NODE_AUTHS_DELCONF\": () => (/* binding */ ACTION_INTERNAL_NODE_AUTHS_DELCONF),\n/* harmony export */   \"CLS_BUTTON\": () => (/* binding */ CLS_BUTTON),\n/* harmony export */   \"CLS_BUTTON_NO\": () => (/* binding */ CLS_BUTTON_NO),\n/* harmony export */   \"CLS_BUTTON_YES\": () => (/* binding */ CLS_BUTTON_YES),\n/* harmony export */   \"CLS_MODAL\": () => (/* binding */ CLS_MODAL),\n/* harmony export */   \"CLS_MODAL_AUTO\": () => (/* binding */ CLS_MODAL_AUTO),\n/* harmony export */   \"CLS_MODAL_WIDE\": () => (/* binding */ CLS_MODAL_WIDE),\n/* harmony export */   \"CLS_MODAL_WIDEST\": () => (/* binding */ CLS_MODAL_WIDEST),\n/* harmony export */   \"HTTP_STATUS_ACCEPTED\": () => (/* binding */ HTTP_STATUS_ACCEPTED),\n/* harmony export */   \"HTTP_STATUS_DEFAULT\": () => (/* binding */ HTTP_STATUS_DEFAULT),\n/* harmony export */   \"HTTP_STATUS_OK\": () => (/* binding */ HTTP_STATUS_OK),\n/* harmony export */   \"KEY_ACCOUNT\": () => (/* binding */ KEY_ACCOUNT),\n/* harmony export */   \"KEY_ADDRESS\": () => (/* binding */ KEY_ADDRESS),\n/* harmony export */   \"KEY_ALLOW_CONFIRM_SIGNUP_ATTEMPT\": () => (/* binding */ KEY_ALLOW_CONFIRM_SIGNUP_ATTEMPT),\n/* harmony export */   \"KEY_ALLOW_SIGNUP\": () => (/* binding */ KEY_ALLOW_SIGNUP),\n/* harmony export */   \"KEY_APPLICATION\": () => (/* binding */ KEY_APPLICATION),\n/* harmony export */   \"KEY_APP_RELATIVE_PATH\": () => (/* binding */ KEY_APP_RELATIVE_PATH),\n/* harmony export */   \"KEY_COLUMNS\": () => (/* binding */ KEY_COLUMNS),\n/* harmony export */   \"KEY_CONFIGURATION\": () => (/* binding */ KEY_CONFIGURATION),\n/* harmony export */   \"KEY_CREATE\": () => (/* binding */ KEY_CREATE),\n/* harmony export */   \"KEY_CREATE_USERNAME\": () => (/* binding */ KEY_CREATE_USERNAME),\n/* harmony export */   \"KEY_DATA\": () => (/* binding */ KEY_DATA),\n/* harmony export */   \"KEY_DATABASE\": () => (/* binding */ KEY_DATABASE),\n/* harmony export */   \"KEY_DATASET\": () => (/* binding */ KEY_DATASET),\n/* harmony export */   \"KEY_DATA_VALIDATION_TABLE\": () => (/* binding */ KEY_DATA_VALIDATION_TABLE),\n/* harmony export */   \"KEY_DATA_VALIDATION_VIEW\": () => (/* binding */ KEY_DATA_VALIDATION_VIEW),\n/* harmony export */   \"KEY_DEFAULT_EMAIL_ALREADY_SIGNED_UP_TEMPLATE\": () => (/* binding */ KEY_DEFAULT_EMAIL_ALREADY_SIGNED_UP_TEMPLATE),\n/* harmony export */   \"KEY_DEFAULT_EMAIL_SIGNUP_TEMPLATE\": () => (/* binding */ KEY_DEFAULT_EMAIL_SIGNUP_TEMPLATE),\n/* harmony export */   \"KEY_DELETED\": () => (/* binding */ KEY_DELETED),\n/* harmony export */   \"KEY_DESCRIPTION\": () => (/* binding */ KEY_DESCRIPTION),\n/* harmony export */   \"KEY_DROP\": () => (/* binding */ KEY_DROP),\n/* harmony export */   \"KEY_EMAIL\": () => (/* binding */ KEY_EMAIL),\n/* harmony export */   \"KEY_EXISTING_USER_TEMPLATE\": () => (/* binding */ KEY_EXISTING_USER_TEMPLATE),\n/* harmony export */   \"KEY_FORCE_TRANSACTIONAL\": () => (/* binding */ KEY_FORCE_TRANSACTIONAL),\n/* harmony export */   \"KEY_HOST\": () => (/* binding */ KEY_HOST),\n/* harmony export */   \"KEY_NAME\": () => (/* binding */ KEY_NAME),\n/* harmony export */   \"KEY_NODE\": () => (/* binding */ KEY_NODE),\n/* harmony export */   \"KEY_PARAMETERS\": () => (/* binding */ KEY_PARAMETERS),\n/* harmony export */   \"KEY_PASSWORD\": () => (/* binding */ KEY_PASSWORD),\n/* harmony export */   \"KEY_PORT\": () => (/* binding */ KEY_PORT),\n/* harmony export */   \"KEY_PRECEDENCE\": () => (/* binding */ KEY_PRECEDENCE),\n/* harmony export */   \"KEY_PROTOCOL\": () => (/* binding */ KEY_PROTOCOL),\n/* harmony export */   \"KEY_PUBLIC_USERNAME\": () => (/* binding */ KEY_PUBLIC_USERNAME),\n/* harmony export */   \"KEY_RECIPIENT_VALIDATION_VIEW\": () => (/* binding */ KEY_RECIPIENT_VALIDATION_VIEW),\n/* harmony export */   \"KEY_ROLE\": () => (/* binding */ KEY_ROLE),\n/* harmony export */   \"KEY_ROWS\": () => (/* binding */ KEY_ROWS),\n/* harmony export */   \"KEY_SEND_NAME\": () => (/* binding */ KEY_SEND_NAME),\n/* harmony export */   \"KEY_SUBJECT\": () => (/* binding */ KEY_SUBJECT),\n/* harmony export */   \"KEY_TEMPLATE\": () => (/* binding */ KEY_TEMPLATE),\n/* harmony export */   \"KEY_URL\": () => (/* binding */ KEY_URL),\n/* harmony export */   \"KEY_USERNAME\": () => (/* binding */ KEY_USERNAME),\n/* harmony export */   \"SIGNUP_ALREADY_REGISTERED\": () => (/* binding */ SIGNUP_ALREADY_REGISTERED),\n/* harmony export */   \"SIGNUP_COMPLETED\": () => (/* binding */ SIGNUP_COMPLETED),\n/* harmony export */   \"SIGNUP_NOT_STARTED\": () => (/* binding */ SIGNUP_NOT_STARTED),\n/* harmony export */   \"SIGNUP_STARTED\": () => (/* binding */ SIGNUP_STARTED),\n/* harmony export */   \"doConfirmDelete\": () => (/* binding */ doConfirmDelete),\n/* harmony export */   \"elemBuilder\": () => (/* binding */ elemBuilder),\n/* harmony export */   \"fetchMyApplications\": () => (/* binding */ fetchMyApplications),\n/* harmony export */   \"fetchSignupData\": () => (/* binding */ fetchSignupData),\n/* harmony export */   \"findGetParameter\": () => (/* binding */ findGetParameter),\n/* harmony export */   \"finishSignup\": () => (/* binding */ finishSignup),\n/* harmony export */   \"foreach\": () => (/* binding */ foreach),\n/* harmony export */   \"formQuery\": () => (/* binding */ formQuery),\n/* harmony export */   \"formatAsTableHeader\": () => (/* binding */ formatAsTableHeader),\n/* harmony export */   \"getAppUrl\": () => (/* binding */ getAppUrl),\n/* harmony export */   \"getBuildableById\": () => (/* binding */ getBuildableById),\n/* harmony export */   \"getOrInitJEQLConfig\": () => (/* binding */ getOrInitJEQLConfig),\n/* harmony export */   \"getOrSelectAppConfig\": () => (/* binding */ getOrSelectAppConfig),\n/* harmony export */   \"getPagedSearchingTableRefreshButton\": () => (/* binding */ getPagedSearchingTableRefreshButton),\n/* harmony export */   \"getSearchObj\": () => (/* binding */ getSearchObj),\n/* harmony export */   \"init\": () => (/* binding */ init),\n/* harmony export */   \"initPublic\": () => (/* binding */ initPublic),\n/* harmony export */   \"login\": () => (/* binding */ login),\n/* harmony export */   \"makeBuildable\": () => (/* binding */ makeBuildable),\n/* harmony export */   \"modalExists\": () => (/* binding */ modalExists),\n/* harmony export */   \"objectsToTuples\": () => (/* binding */ objectsToTuples),\n/* harmony export */   \"pagedSearchingTable\": () => (/* binding */ pagedSearchingTable),\n/* harmony export */   \"pagedTableUpdate\": () => (/* binding */ pagedTableUpdate),\n/* harmony export */   \"prepareQuery\": () => (/* binding */ prepareQuery),\n/* harmony export */   \"render\": () => (/* binding */ render),\n/* harmony export */   \"renderLoginInPage\": () => (/* binding */ renderLoginInPage),\n/* harmony export */   \"renderModal\": () => (/* binding */ renderModal),\n/* harmony export */   \"renderModalAreYouSure\": () => (/* binding */ renderModalAreYouSure),\n/* harmony export */   \"renderModalError\": () => (/* binding */ renderModalError),\n/* harmony export */   \"renderModalOk\": () => (/* binding */ renderModalOk),\n/* harmony export */   \"requests\": () => (/* reexport module object */ _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__),\n/* harmony export */   \"script\": () => (/* binding */ script),\n/* harmony export */   \"scriptParent\": () => (/* binding */ scriptParent),\n/* harmony export */   \"scriptPrior\": () => (/* binding */ scriptPrior),\n/* harmony export */   \"setPagedSearchingTableSortField\": () => (/* binding */ setPagedSearchingTableSortField),\n/* harmony export */   \"signup\": () => (/* binding */ signup),\n/* harmony export */   \"signupStatus\": () => (/* binding */ signupStatus),\n/* harmony export */   \"signupStatusWithCode\": () => (/* binding */ signupStatusWithCode),\n/* harmony export */   \"signupWithToken\": () => (/* binding */ signupWithToken),\n/* harmony export */   \"signupWithTokenAndLogin\": () => (/* binding */ signupWithTokenAndLogin),\n/* harmony export */   \"simpleSearchTransformer\": () => (/* binding */ simpleSearchTransformer),\n/* harmony export */   \"submit\": () => (/* binding */ submit),\n/* harmony export */   \"submitFile\": () => (/* binding */ submitFile),\n/* harmony export */   \"tableRenderer\": () => (/* binding */ tableRenderer),\n/* harmony export */   \"tupleToObject\": () => (/* binding */ tupleToObject),\n/* harmony export */   \"tuplesToObjects\": () => (/* binding */ tuplesToObjects)\n/* harmony export */ });\n/* harmony import */ var _css_loader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./css_loader.js */ \"./css_loader.js\");\n/* harmony import */ var _css_loader_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./requests/requests.js */ \"./requests/requests.js\");\n // Will import the CSS\n\n\n\nlet HTTP_STATUS_DEFAULT = _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.HTTP_STATUS_DEFAULT;\n\nlet VERSION = \"2.2.10\";\nconsole.log(\"Loaded JEQL library, version \" + VERSION);\nlet HTTP_STATUS_CONNECTION_EXPIRED = 419;\nlet HTTP_STATUS_OK = 200;\n\nlet HTTP_STATUS_ACCEPTED = 202;\n\nlet STORAGE_JAAQL_TOKENS = \"JAAQL_TOKENS\";\nlet STORAGE_JAAQL_CONFIGS = \"JAAQL_CONFIGS\";\nlet JEQL_FIESTA_INTRODUCER = \"introducer\";\nlet JEQL_FIESTA_EXPRESSION = \"expression\";\nlet JEQL_FIESTA_SEPARATOR = \"separator\";\nlet JEQL_FIESTA_TERMINATOR = \"terminator\";\nlet JEQL_FIESTA_ALTERNATIVE = \"alternative\";\nlet SIGNUP_NOT_STARTED = 0;\n\nlet SIGNUP_STARTED = 1;\n\nlet SIGNUP_ALREADY_REGISTERED = 2;\n\nlet SIGNUP_COMPLETED = 3;\n\nlet ACTION_SIGNUP = \"POST /account/signup/request\";\nlet ACTION_SIGNUP_WITH_TOKEN = \"POST /account/signup/activate\";\nlet ACTION_FETCH_SIGNUP = \"GET /account/signup/fetch\";\nlet ACTION_FINISH_SIGNUP = \"POST /account/signup/finish\";\nlet ACTION_SIGNUP_STATUS = \"GET /account/signup/status\";\nlet ACTION_LOGIN = \"POST /oauth/token\";\nlet ACTION_FETCH_APPLICATION_PUBLIC_USER = \"GET /applications/public-user\";\nlet ACTION_FETCH_APPLICATION_DEFAULT_EMAIL_TEMPLATES = \"GET /applications/default-templates\";\nlet ACTION_FETCH_APPLICATIONS = \"GET /applications\";\nlet ACTION_INTERNAL_EMAIL_ACCOUNTS = \"GET /internal/emails/accounts\";\n\nlet ACTION_INTERNAL_EMAIL_ACCOUNTS_ADD = \"POST /internal/emails/accounts\";\n\nlet ACTION_INTERNAL_EMAIL_ACCOUNTS_DEL = \"DELETE /internal/emails/accounts\";\n\nlet ACTION_INTERNAL_EMAIL_ACCOUNTS_DELCONF = \"POST /internal/emails/accounts/confirm-deletion\";\n\nlet ACTION_INTERNAL_EMAIL_TEMPLATES = \"GET /internal/emails/templates\";\n\nlet ACTION_INTERNAL_EMAIL_TEMPLATES_ADD = \"POST /internal/emails/templates\";\n\nlet ACTION_INTERNAL_EMAIL_TEMPLATES_DEL = \"DELETE /internal/emails/templates\";\n\nlet ACTION_INTERNAL_EMAIL_TEMPLATES_DELCONF = \"POST /internal/emails/templates/confirm-deletion\";\n\nlet ACTION_INTERNAL_NODES = \"GET /internal/nodes\";\n\nlet ACTION_INTERNAL_NODES_ADD = \"POST /internal/nodes\";\n\nlet ACTION_INTERNAL_NODES_DEL = \"DELETE /internal/nodes\";\n\nlet ACTION_INTERNAL_NODES_DELCONF = \"POST /internal/nodes/confirm-deletion\";\n\nlet ACTION_INTERNAL_NODE_AUTHS = \"GET /internal/nodes/credentials\";\n\nlet ACTION_INTERNAL_NODE_AUTHS_ADD = \"POST /internal/nodes/credentials\";\n\nlet ACTION_INTERNAL_NODE_AUTHS_DEL = \"DELETE /internal/nodes/credentials\";\n\nlet ACTION_INTERNAL_NODE_AUTHS_DELCONF = \"POST /internal/nodes/credentials/confirm-deletion\";\n\nlet ACTION_INTERNAL_DATABASES = \"GET /internal/databases\";\n\nlet ACTION_INTERNAL_DATABASES_ADD = \"POST /internal/databases\";\n\nlet ACTION_INTERNAL_DATABASES_DEL = \"DELETE /internal/databases\";\n\nlet ACTION_INTERNAL_DATABASES_DELCONF = \"POST /internal/databases/confirm-deletion\";\n\nlet ACTION_INTERNAL_APPLICATIONS = \"GET /internal/applications\";\n\nlet ACTION_INTERNAL_APPLICATIONS_ADD = \"POST /internal/applications\";\n\nlet ACTION_INTERNAL_APPLICATIONS_DEL = \"DELETE /internal/applications\";\n\nlet ACTION_INTERNAL_APPLICATIONS_DELCONF = \"POST /internal/applications/confirm-deletion\";\n\nlet ACTION_REFRESH = \"POST /oauth/refresh\";\nlet ACTION_SUBMIT = \"POST /submit\";\nlet ACTION_SUBMIT_FILE = \"POST /submit-file\";\nlet ACTION_CONFIGURATIONS = \"GET /configurations\";\nlet ACTION_INTERNAL_ASSIGNED_DATABASES = \"GET /internal/applications/configurations/assigned-databases\";\n\nlet ACTION_INTERNAL_ASSIGNED_DATABASE_ADD = \"POST /internal/applications/configurations/assigned-databases\";\n\nlet ACTION_INTERNAL_ASSIGNED_DATABASE_DEL = \"DELETE /internal/applications/configurations/assigned-databases\";\n\nlet ACTION_INTERNAL_ASSIGNED_DATABASE_DELCONF = \"POST /internal/applications/configurations/assigned-databases/confirm-deletion\";\n\nlet ACTION_INTERNAL_CONFIG = \"GET /internal/applications/configurations\";\n\nlet ACTION_INTERNAL_CONFIG_ADD = \"POST /internal/applications/configurations\";\n\nlet ACTION_INTERNAL_CONFIG_DEL = \"DELETE /internal/applications/configurations\";\n\nlet ACTION_INTERNAL_CONFIG_DELCONF = \"POST /internal/applications/configurations/confirm-deletion\";\n\nlet ACTION_INTERNAL_CONFIG_AUTH = \"GET /internal/applications/configurations/authorizations\";\n\nlet ACTION_INTERNAL_CONFIG_AUTH_ADD = \"POST /internal/applications/configurations/authorizations\";\n\nlet ACTION_INTERNAL_CONFIG_AUTH_DEL = \"DELETE /internal/applications/configurations/authorizations\";\n\nlet ACTION_INTERNAL_CONFIG_AUTH_DELCONF = \"POST /internal/applications/configurations/authorizations/confirm-deletion\";\n\nlet ACTION_INTERNAL_DATASETS = \"GET /internal/applications/datasets\";\n\nlet ACTION_INTERNAL_DATASETS_ADD = \"POST /internal/applications/datasets\";\n\nlet ACTION_INTERNAL_DATASETS_DEL = \"DELETE /internal/applications/datasets\";\n\nlet ACTION_INTERNAL_DATASETS_DELCONF = \"POST /internal/applications/datasets/confirm-deletion\";\n\nlet ACTION_CONFIGURATIONS_ASSIGNED_DATABASES = \"GET /configurations/assigned-databases\";\nlet PARAMETER_JAAQL = \"jaaql\";\nlet PARAMETER_CONFIGURATION = \"configuration\";\nlet JWT_KEY_CONFIG_NAME = \"name\";\nlet ERR_WIPING_CONFIG = \"Error when loading app config, wiping config\";\nlet ERR_IMPERATIVE_APP_CONFIG_FAILED = \"Tried to get app config in an imperative manner yet app config was not set\";\nlet ERR_NO_FOUND_CONFIGURATION_FOR_USER = \"No configuration found for user\";\nlet ERR_COULD_NOT_REFRESH_APP_CONFIG = \"Could not refresh app config connection token\";\nlet ERR_COULD_NOT_FIND_APPLICATION_WITH_NAME = \"Could not find application with name \";\nlet ERR_MFA_TIMEOUT_OCCURRED = \"MFA timeout hit. Please login again\";\nlet KEY_QUERY = \"query\";\nlet KEY_EMAIL = \"email\";\n\nlet KEY_DEFAULT_EMAIL_SIGNUP_TEMPLATE = \"default_email_signup_template\";\n\nlet KEY_DEFAULT_EMAIL_ALREADY_SIGNED_UP_TEMPLATE = \"default_email_already_signed_up_template\";\n\nlet KEY_TEMPLATE = \"template\";\n\nlet KEY_EXISTING_USER_TEMPLATE = \"existing_user_template\";\n\nlet KEY_PARAMETERS = \"parameters\";\n\nlet KEY_DATASET = \"dataset\";\n\nlet KEY_NODE = \"node\";\n\nlet KEY_PROTOCOL = \"protocol\";\n\nlet KEY_DATABASE = \"database\";\n\nlet KEY_FORCE_TRANSACTIONAL = \"force_transactional\";\n\nlet KEY_ROWS = \"rows\";\n\nlet KEY_COLUMNS = \"columns\";\n\nlet KEY_PORT = \"port\";\n\nlet KEY_ADDRESS = \"address\";\n\nlet KEY_DELETED = \"deleted\";\n\nlet KEY_CONNECTION = \"connection\";\nlet KEY_USERNAME = \"username\";\n\nlet KEY_ACCOUNT = \"account\";\n\nlet KEY_ALLOW_CONFIRM_SIGNUP_ATTEMPT = \"allow_confirm_signup_attempt\";\n\nlet KEY_ALLOW_SIGNUP = \"allow_signup\";\n\nlet KEY_PASSWORD = \"password\";\n\nlet KEY_MFA_KEY = \"mfa_key\";\nlet KEY_PRE_AUTH_KEY = \"pre_auth_key\";\nlet KEY_CONFIGURATION = \"configuration\";\n\nlet KEY_APPLICATION = \"application\";\n\nlet KEY_DESCRIPTION = \"description\";\n\nlet KEY_URL = \"url\";\n\nlet KEY_PUBLIC_USERNAME = \"public_username\";\n\nlet KEY_ROLE = \"role\";\n\nlet KEY_PRECEDENCE = \"precedence\";\n\nlet KEY_CONNECTIONS = \"connections\";\nlet KEY_NAME = \"name\";\n\nlet KEY_SEND_NAME = \"send_name\";\n\nlet KEY_HOST = \"host\";\n\nlet KEY_DATA = \"data\";\n\nlet KEY_CREATE = \"create\";\n\nlet KEY_DROP = \"drop\";\n\nlet KEY_CREATE_USERNAME = \"create_username\";\n\nlet KEY_RECORDS_TOTAL = \"records_total\";\nlet KEY_RECORDS_FILTERED = \"records_filtered\";\nlet KEY_SEARCH = \"search\";\nlet KEY_SORT = \"sort\";\nlet KEY_SIZE = \"size\";\nlet KEY_PAGE = \"page\";\nlet KEY_DELETION_KEY = \"deletion_key\";\nlet KEY_INVITE_OR_POLL_KEY = \"invite_or_poll_key\";\nlet KEY_INVITE_CODE = \"invite_code\";\nlet KEY_INVITE_KEY = \"invite_key\";\nlet KEY_INVITE_KEY_STATUS = \"invite_key_status\";\nlet KEY_SUBJECT = \"subject\";\n\nlet KEY_APP_RELATIVE_PATH = \"app_relative_path\";\n\nlet KEY_DATA_VALIDATION_TABLE = \"data_validation_table\";\n\nlet KEY_DATA_VALIDATION_VIEW = \"data_validation_view\";\n\nlet KEY_RECIPIENT_VALIDATION_VIEW = \"recipient_validation_view\";\n\nlet PROTOCOL_FILE = \"file:\";\nlet LOCAL_DEBUGGING_URL = \"http://127.0.0.1:6060\";\nlet CLS_MODAL_OUTER = \"jeql-modal-outer\";\nlet CLS_MODAL = \"jeql-modal\";\n\nlet CLS_MODAL_WIDE = \"jeql-modal-wide\";\n\nlet CLS_MODAL_WIDEST = \"jeql-modal-widest\";\n\nlet CLS_MODAL_AUTO = \"jeql-modal-auto\";\n\nlet CLS_BUTTON = \"jeql-button\";\n\nlet CLS_BUTTON_YES = \"jeql-button-yes\";\n\nlet CLS_BUTTON_NO = \"jeql-button-no\";\n\nlet CLS_MODAL_CLOSE = \"jeql-modal-close\";\nlet CLS_CURSOR_POINTER = \"jeql-cursor-pointer\";\nlet CLS_CENTER = \"jeql-center\";\nlet CLS_INPUT_MFA = \"jeql-input-mfa\";\nlet CLS_SELECTED_APP_CONFIG = \"jeql-selected-app-config\";\nlet CLS_JEQL_TABLE_HEADER = \"jeql-table-header\";\nlet CLS_JEQL_TABLE_HEADER_SORT = \"jeql-table-header-sort\";\nlet CLS_JEQL_TABLE_HEADER_SORT_SPAN = \"jeql-table-header-sort-span\";\nlet SORT_DEFAULT = \"&nbsp;-\";\nlet SORT_ASC = \"&nbsp;&#9650;\";\nlet SORT_DESC = \"&nbsp;&#9660;\";\nlet ATTR_JEQL_DATA = \"jeql-data\";\nlet ATTR_JEQL_PAGING_TABLE = \"jeql-paging-table\";\nlet ATTR_JEQL_SORT_DIRECTION = \"jeql-sort-direction\";\nlet ID_LOGIN_MODAL = \"jeql-login-modal\";\nlet ID_LOGIN_ERROR = \"jeql-login-error\";\nlet ID_USERNAME = \"jeql-username\";\nlet ID_PASSWORD = \"jeql-password\";\nlet ID_REMEMBER_ME = \"jeql-remember-me\";\nlet ID_MFA_0 = \"jeql-mfa-0\";\nlet ID_MFA_1 = \"jeql-mfa-1\";\nlet ID_MFA_2 = \"jeql-mfa-2\";\nlet ID_MFA_3 = \"jeql-mfa-3\";\nlet ID_MFA_4 = \"jeql-mfa-4\";\nlet ID_MFA_5 = \"jeql-mfa-5\";\nlet ID_LOGIN_BUTTON = \"jeql-login-button\";\nlet ID_SELECT_APP_CONFIG = \"jeql-select-app-config-\";\nlet ID_PAGING_REFRESH_BUTTON = \"refresh\";\nlet ID_PAGING_FILTERED = \"filtered\";\nlet ID_PAGING_TOTAL = \"total\";\nlet ID_PAGING_PAGES = \"pages\";\nlet ID_PAGING_SIZE = \"size\";\nlet ID_PAGING_FROM = \"from\";\nlet ID_PAGING_TO = \"to\";\nlet ID_PAGING_CUR_PAGE = \"cur\";\nlet ID_PAGING_SORT = \"sort\";\nlet ID_PAGING_SEARCH = \"search\";\nlet ID_PAGING_LAST_SEARCH = \"last-search\";\nlet CLS_INPUT = \"jeql-input\";\nlet AUTH_MFA_EXPIRY_MS = 120000;\nfunction getSearchObj(page, size, search, sort) {\n  let obj = {};\n  obj[KEY_PAGE] = page;\n  obj[KEY_SIZE] = size;\n  obj[KEY_SEARCH] = search;\n  obj[KEY_SORT] = sort;\n  return obj;\n}\nfunction modalExists() {\n  return document.body.getElementsByClassName(CLS_MODAL).length !== 0;\n}\nfunction doConfirmDelete(config, data, actionDel, actionDelConf, onComplete) {\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeBody(window.JEQL_CONFIG, actionDel, function (res) {\n    data = {};\n    data[KEY_DELETION_KEY] = res[KEY_DELETION_KEY];\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(window.JEQL_CONFIG, actionDelConf, onComplete, data);\n  }, data);\n}\nfunction simpleSearchTransformer(cols) {\n  return function (search) {\n    if (search === \"\") {\n      return search;\n    }\n\n    let simplified = \"\";\n\n    for (let i = 0; i < cols.length; i++) {\n      if (i !== 0) {\n        simplified += \" OR \";\n      }\n\n      simplified += cols[i] + \" LIKE '%\" + search + \"%'\";\n    }\n\n    return simplified;\n  };\n}\nfunction pagedTableUpdate(table, data) {\n  let tableId = table.id;\n  let refreshId = tableId + \"-\" + ID_PAGING_REFRESH_BUTTON;\n  let totalId = tableId + \"-\" + ID_PAGING_TOTAL;\n  let filteredId = tableId + \"-\" + ID_PAGING_FILTERED;\n  let fromId = tableId + \"-\" + ID_PAGING_FROM;\n  let toId = tableId + \"-\" + ID_PAGING_TO;\n  let curPageElem = document.getElementById(tableId + \"-\" + ID_PAGING_CUR_PAGE);\n  let curPage = parseInt(curPageElem.innerText);\n  let pagesElem = document.getElementById(tableId + \"-\" + ID_PAGING_PAGES);\n  let pageSize = parseInt(document.getElementById(tableId + \"-\" + ID_PAGING_SIZE).value);\n  let numPages = Math.ceil(data[KEY_RECORDS_FILTERED] / pageSize);\n\n  let pageButtonClickFunc = function (event) {\n    curPageElem.innerText = event.target.innerHTML;\n    document.getElementById(refreshId).click();\n  };\n\n  pagesElem.innerHTML = \"\";\n  pagesElem.appendChild(elemBuilder(\"button\").buildText(\"1\").buildBoolean(\"disabled\", curPage === 1).buildEventListener(\"click\", pageButtonClickFunc));\n\n  if (curPage > 3) {\n    if (numPages < 8 || curPage === 4) {\n      pagesElem.appendChild(elemBuilder(\"button\").buildText(\"2\").buildBoolean(\"disabled\", curPage === 2).buildEventListener(\"click\", pageButtonClickFunc));\n    } else {\n      pagesElem.appendChild(elemBuilder(\"button\").buildText(\"...\").buildBoolean(\"disabled\", true));\n    }\n  }\n\n  if (numPages > 6 && numPages === curPage) {\n    let curNum = curPage - 4;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 5 && numPages - curPage < 2 && curPage > 5) {\n    let curNum = curPage - 3;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 4 && numPages - curPage < 3 && curPage > 4) {\n    let curNum = curPage - 2;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 1 && curPage - 1 !== numPages) {\n    let curNum = curPage > 2 ? curPage - 1 : 2;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 2 && curPage !== numPages) {\n    let curNum = curPage > 3 ? curPage : 3;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 3 && curPage < numPages && (numPages !== curPage + 1 || numPages === 4)) {\n    let curNum = curPage > 3 ? curPage + 1 : 4;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages > 6 && curPage < 4) {\n    let curNum = 5;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  if (numPages - curPage > 2 && numPages > 5) {\n    if (numPages < 8 || numPages - curPage < 4) {\n      let curNum = numPages - 1;\n      pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n    } else {\n      pagesElem.appendChild(elemBuilder(\"button\").buildText(\"...\").buildBoolean(\"disabled\", true));\n    }\n  }\n\n  if (numPages > 4 || numPages === curPage && (curPage === 3 || curPage === 4)) {\n    let curNum = numPages;\n    pagesElem.appendChild(elemBuilder(\"button\").buildText(curNum.toString()).buildBoolean(\"disabled\", curPage === curNum).buildEventListener(\"click\", pageButtonClickFunc));\n  }\n\n  document.getElementById(totalId).innerText = data[KEY_RECORDS_TOTAL];\n  document.getElementById(filteredId).innerText = data[KEY_RECORDS_FILTERED];\n\n  if (data[KEY_RECORDS_FILTERED] === 0) {\n    document.getElementById(fromId).innerText = \"0\";\n  } else {\n    document.getElementById(fromId).innerText = (curPage * pageSize - pageSize + 1).toString();\n  }\n\n  document.getElementById(toId).innerText = Math.min(curPage * pageSize, data[KEY_RECORDS_FILTERED]).toString();\n}\nfunction getPagedSearchingTableRefreshButton(tableId) {\n  return document.getElementById(tableId + \"-\" + ID_PAGING_REFRESH_BUTTON);\n}\nfunction setPagedSearchingTableSortField(tableId, sort) {\n  document.getElementById(tableId + \"-\" + ID_PAGING_SORT).innerText = sort;\n}\nfunction pagedSearchingTable(table, onChange, searchTransformer = null) {\n  if (!searchTransformer) {\n    searchTransformer = function (ret) {\n      return ret;\n    };\n  }\n\n  makeBuildable(table);\n  table.buildBoolean(ATTR_JEQL_PAGING_TABLE, true);\n  let tableId = table.id;\n  let refreshId = tableId + \"-\" + ID_PAGING_REFRESH_BUTTON;\n  let totalId = tableId + \"-\" + ID_PAGING_TOTAL;\n  let filteredId = tableId + \"-\" + ID_PAGING_FILTERED;\n  let pagesId = tableId + \"-\" + ID_PAGING_PAGES;\n  let sizeId = tableId + \"-\" + ID_PAGING_SIZE;\n  let fromId = tableId + \"-\" + ID_PAGING_FROM;\n  let searchId = tableId + \"-\" + ID_PAGING_SEARCH;\n  let lastSearchId = tableId + \"-\" + ID_PAGING_LAST_SEARCH;\n  let toId = tableId + \"-\" + ID_PAGING_TO;\n  let curPageId = tableId + \"-\" + ID_PAGING_CUR_PAGE;\n  let sortId = tableId + \"-\" + ID_PAGING_SORT;\n  table.buildOlderSibling(\"div\").buildHTML(`\n        <label>\n            Search: \n            <input type=\"text\" id=\"${searchId}\"/>\n        </label>\n        <label>\n            Page Size:\n            <select id=\"${sizeId}\">\n                <option value=\"10\">10</option>\n                <option value=\"25\">25</option>\n                <option value=\"50\">50</option>\n                <option value=\"100\">100</option>\n                <option value=\"250\">250</option>\n                <option value=\"999999999\">All</option>\n            </select>\n        </label>\n        <button id=\"${refreshId}\">Search</button>\n        <span id=\"${curPageId}\" style=\"display:none\">1</span>\n        <span id=\"${sortId}\" style=\"display:none\"></span>\n        <span id=\"${lastSearchId}\" style=\"display:none\"></span>\n    `);\n  table.buildSibling(\"div\").buildHTML(`\n        <div id=\"${pagesId}\"></div><div>Showing <span id=\"${fromId}\"></span> to <span id=\"${toId}\"></span> of <span id=\"${filteredId}\"></span>/<span id=\"${totalId}\"> records</span></div>\n    `);\n  makeBuildable(document.getElementById(pagesId));\n  document.getElementById(sizeId).addEventListener(\"change\", function () {\n    document.getElementById(curPageId).innerText = \"1\";\n    onChange(0, parseInt(document.getElementById(sizeId).value), searchTransformer(document.getElementById(searchId).value), document.getElementById(sortId).innerText);\n  });\n  document.getElementById(refreshId).addEventListener(\"click\", function () {\n    if (document.getElementById(lastSearchId).innerHTML !== document.getElementById(searchId).value) {\n      document.getElementById(curPageId).innerText = \"1\";\n    }\n\n    document.getElementById(lastSearchId).value = document.getElementById(searchId).value;\n    onChange(parseInt(document.getElementById(curPageId).innerText) - 1, parseInt(document.getElementById(sizeId).value), searchTransformer(document.getElementById(searchId).value), document.getElementById(sortId).innerText);\n  });\n  onChange(0, 10, searchTransformer(document.getElementById(searchId).value), \"\");\n}\n\nfunction buildChild(elem, tag) {\n  let child = elemBuilder(tag);\n  elem.appendChild(child);\n  return child;\n}\n\nfunction buildClass(elem, classOrClasses) {\n  if (!Array.isArray(classOrClasses)) {\n    classOrClasses = [classOrClasses];\n  }\n\n  for (let curClass in classOrClasses) {\n    elem.classList.add(classOrClasses[curClass]);\n  }\n\n  return elem;\n}\n\nfunction buildOlderSibling(elem, tag) {\n  let sibling = elemBuilder(tag);\n  elem.parentNode.insertBefore(sibling, elem);\n  return sibling;\n}\n\nfunction buildSibling(elem, tag) {\n  let sibling = elemBuilder(tag);\n  elem.after(sibling);\n  return sibling;\n}\n\nfunction buildAttr(elem, attr, value) {\n  elem.setAttribute(attr, value);\n  return elem;\n}\n\nfunction buildText(elem, text) {\n  elem.innerText = text;\n  return elem;\n}\n\nfunction buildHTML(elem, html) {\n  elem.innerHTML += html;\n  return elem;\n}\n\nfunction tupleToObject(row, columns) {\n  let obj = {};\n\n  for (let i2 = 0; i2 < columns.length; i2++) {\n    if (columns[i2].constructor === Object) {\n      let objKey = Object.keys(columns[i2])[0];\n      let subResponse = {};\n      subResponse[KEY_COLUMNS] = columns[i2][objKey];\n      subResponse[KEY_ROWS] = row[i2];\n      obj[objKey] = tuplesToObjects(subResponse);\n    } else {\n      obj[columns[i2]] = row[i2];\n    }\n  }\n\n  return obj;\n}\nfunction tuplesToObjects(response) {\n  let columns = response[KEY_COLUMNS];\n  let rows = response[KEY_ROWS];\n  let ret = [];\n\n  for (let i = 0; i < rows.length; i++) {\n    ret.push(tupleToObject(rows[i], columns));\n  }\n\n  return ret;\n}\nfunction objectsToTuples(response) {\n  let ret = {};\n  ret[KEY_COLUMNS] = [];\n  ret[KEY_ROWS] = [];\n\n  for (let i = 0; i < response.length; i++) {\n    if (i === 0) {\n      ret[KEY_COLUMNS] = Object.keys(response[i]);\n    }\n\n    let row = [];\n\n    for (let i2 = 0; i2 < ret[KEY_COLUMNS].length; i2++) {\n      row.push(response[i][ret[KEY_COLUMNS][i2]]);\n    }\n\n    ret[KEY_ROWS].push(row);\n  }\n\n  return ret;\n}\nfunction tableRenderer(data, table, rowRenderer, skipColumns) {\n  if (!skipColumns) {\n    skipColumns = [];\n  }\n\n  let oldSortCol = null;\n  let oldSortDir = null;\n\n  if (!table) {\n    table = elemBuilder(table);\n    document.body.appendChild(table);\n  } else {\n    let oldHeaders = table.getElementsByClassName(CLS_JEQL_TABLE_HEADER_SORT);\n\n    for (let i = 0; i < oldHeaders.length; i++) {\n      let span = oldHeaders[i].getElementsByClassName(CLS_JEQL_TABLE_HEADER_SORT_SPAN)[0];\n\n      if (span.getAttribute(ATTR_JEQL_SORT_DIRECTION) !== SORT_DEFAULT) {\n        oldSortCol = oldHeaders[i].childNodes[0].data;\n        oldSortDir = span.getAttribute(ATTR_JEQL_SORT_DIRECTION);\n      }\n    }\n\n    table.innerHTML = \"\";\n    makeBuildable(table);\n  }\n\n  let isPagingTable = table.getAttribute(ATTR_JEQL_PAGING_TABLE);\n  let header = table.buildChild(\"tr\");\n\n  for (let idx in Object.keys(data[KEY_COLUMNS])) {\n    if (skipColumns.includes(data[KEY_COLUMNS][idx])) {\n      continue;\n    }\n\n    let headerText = formatAsTableHeader(data[KEY_COLUMNS][idx]);\n    let th = header.buildChild(\"th\").buildClass(CLS_JEQL_TABLE_HEADER).buildText(headerText);\n\n    if (isPagingTable) {\n      th.buildClass(CLS_JEQL_TABLE_HEADER_SORT);\n      let span = th.buildChild(\"span\").buildClass(CLS_JEQL_TABLE_HEADER_SORT_SPAN).buildHTML(SORT_DEFAULT).buildAttr(ATTR_JEQL_SORT_DIRECTION, SORT_DEFAULT);\n\n      if (headerText === oldSortCol) {\n        span.buildAttr(ATTR_JEQL_SORT_DIRECTION, oldSortDir);\n        span.innerHTML = oldSortDir;\n      }\n\n      th.buildEventListener().buildEventListener(\"click\", function () {\n        if (span.getAttribute(ATTR_JEQL_SORT_DIRECTION) === SORT_DEFAULT) {\n          span.innerHTML = SORT_ASC;\n          span.setAttribute(ATTR_JEQL_SORT_DIRECTION, SORT_ASC);\n          let sorts = table.getElementsByClassName(CLS_JEQL_TABLE_HEADER_SORT_SPAN);\n\n          for (let i = 0; i < sorts.length; i++) {\n            if (sorts[i] !== span) {\n              sorts[i].setAttribute(ATTR_JEQL_SORT_DIRECTION, SORT_DEFAULT);\n              sorts[i].innerHTML = SORT_DEFAULT;\n            }\n          }\n\n          setPagedSearchingTableSortField(table.id, data[KEY_COLUMNS][idx] + \" ASC\");\n        } else if (span.getAttribute(ATTR_JEQL_SORT_DIRECTION) === SORT_ASC) {\n          span.innerHTML = SORT_DESC;\n          span.setAttribute(ATTR_JEQL_SORT_DIRECTION, SORT_DESC);\n          setPagedSearchingTableSortField(table.id, data[KEY_COLUMNS][idx] + \" DESC\");\n        } else\n          /*if (span.getAttribute(ATTR_JEQL_SORT_DIRECTION) === SORT_DESC)*/\n          {\n            span.innerHTML = SORT_DEFAULT;\n            span.setAttribute(ATTR_JEQL_SORT_DIRECTION, SORT_DEFAULT);\n            setPagedSearchingTableSortField(table.id, \"\");\n          }\n\n        getPagedSearchingTableRefreshButton(table.id).click();\n      });\n    }\n  }\n\n  header.buildChild(\"th\");\n\n  for (let idx in data[KEY_ROWS]) {\n    let row = table.buildChild(\"tr\");\n\n    let defaultRowRenderer = function () {\n      let iter = -1;\n\n      for (let key in data[KEY_ROWS][idx]) {\n        iter += 1;\n\n        if (skipColumns.includes(data[KEY_COLUMNS][iter])) {\n          continue;\n        }\n\n        row.buildChild(\"td\").buildText(data[KEY_ROWS][idx][key]);\n      }\n    };\n\n    if (rowRenderer) {\n      rowRenderer(row, data, idx, defaultRowRenderer);\n    } else {\n      defaultRowRenderer();\n    }\n  }\n}\n\nfunction buildBoolean(elem, attr, doBuild) {\n  if (doBuild) {\n    elem.setAttribute(attr, attr);\n  }\n\n  return elem;\n}\n\nfunction buildEventListener(elem, event, onevent) {\n  elem.addEventListener(event, onevent);\n  return elem;\n}\n\nfunction makeBuildable(elem) {\n  elem.removeElement = function () {\n    elem.parentNode.removeChild(elem);\n  };\n\n  elem.buildClass = function (classOrClasses) {\n    return buildClass(elem, classOrClasses);\n  };\n\n  elem.buildAttr = function (attr, value) {\n    return buildAttr(elem, attr, value);\n  };\n\n  elem.buildBoolean = function (attr, doBuild) {\n    return buildBoolean(elem, attr, doBuild);\n  };\n\n  elem.buildText = function (text) {\n    return buildText(elem, text);\n  };\n\n  elem.buildHTML = function (html) {\n    return buildHTML(elem, html);\n  };\n\n  elem.resetHTML = function (html) {\n    elem.innerHTML = \"\";\n    return buildHTML(elem, html);\n  };\n\n  elem.buildChild = function (tag) {\n    return buildChild(elem, tag);\n  };\n\n  elem.buildRow = function () {\n    return buildChild(elem, \"tr\");\n  };\n\n  elem.buildForeach = function (iterable, lambda) {\n    for (let i = 0; i < iterable.length; i++) {\n      elem.buildHTML(lambda(iterable[i]));\n    }\n\n    return elem;\n  };\n\n  elem.getParent = function () {\n    return makeBuildable(elem.parentNode);\n  };\n\n  elem.buildSibling = function (tag) {\n    return buildSibling(elem, tag);\n  };\n\n  elem.buildEventListener = function (event, onevent) {\n    return buildEventListener(elem, event, onevent);\n  };\n\n  elem.buildOlderSibling = function (tag) {\n    return buildOlderSibling(elem, tag);\n  };\n\n  return elem;\n}\nfunction elemBuilder(tag) {\n  let ret = document.createElement(tag);\n  makeBuildable(ret);\n  return ret;\n}\nfunction getBuildableById(id) {\n  return makeBuildable(document.getElementById(id));\n}\n\nfunction xHttpSetAuth(config, xhttp) {\n  xhttp.setRequestHeader(\"Authentication-Token\", config.authToken);\n}\n\nfunction renderModal(modalBodyRender, allowClose = true, modalBaseClass = CLS_MODAL, modalAdditionalClass = null) {\n  let outerDiv = document.createElement(\"div\");\n  document.body.appendChild(outerDiv);\n  outerDiv.setAttribute(\"class\", CLS_MODAL_OUTER);\n  let modalDiv = elemBuilder(\"div\");\n  outerDiv.appendChild(modalDiv);\n  modalDiv.classList.add(modalBaseClass);\n\n  if (modalAdditionalClass !== null) {\n    modalDiv.classList.add(modalAdditionalClass);\n  }\n\n  if (allowClose) {\n    outerDiv.classList.add(CLS_CURSOR_POINTER);\n    let modalClose = elemBuilder(\"span\").buildClass(CLS_MODAL_CLOSE).buildHTML(\"&times;\");\n    modalDiv.appendChild(modalClose);\n    modalClose.addEventListener(\"click\", function () {\n      document.body.removeChild(outerDiv);\n    });\n    outerDiv.addEventListener(\"click\", function (event) {\n      if (event.target === outerDiv) {\n        document.body.removeChild(outerDiv);\n      }\n    }, false);\n  }\n\n  let subDiv = modalDiv.buildChild(\"div\");\n\n  subDiv.closeModal = function () {\n    outerDiv.parentElement.removeChild(outerDiv);\n  };\n\n  modalBodyRender(subDiv);\n}\nfunction renderModalOk(msg, onOk = null, title = \"Success!\") {\n  if (!onOk) {\n    onOk = function () {};\n  }\n\n  renderModal(function (modal) {\n    let oldFunc = modal.closeModal;\n\n    modal.closeModal = function () {\n      oldFunc();\n      onOk();\n    };\n\n    modal.buildHTML(`\n            <h1>${title}</h1>\n            ${msg}\n        `).buildChild(\"button\").buildText(\"Ok\").buildClass(CLS_BUTTON).buildEventListener(\"click\", function () {\n      modal.closeModal();\n    });\n  }, false);\n}\nfunction renderModalError(errMsg, errTitle = \"Error!\") {}\nfunction renderModalAreYouSure(msg, yesFunc, title = \"Are you sure?\", yesButtonText = \"Yes\", noButtonText = \"No\") {\n  renderModal(function (modal) {\n    modal.buildHTML(`\n            <h1>${title}</h1>\n            ${msg}\n        `).buildChild(\"button\").buildText(yesButtonText).buildClass([CLS_BUTTON, CLS_BUTTON_YES]).buildEventListener(\"click\", function () {\n      modal.closeModal();\n      yesFunc();\n    }).buildSibling(\"button\").buildText(noButtonText).buildClass([CLS_BUTTON, CLS_BUTTON_NO]).buildEventListener(\"click\", modal.closeModal);\n  }, false);\n}\n\nfunction bindButton(eleId, buttonId) {\n  document.getElementById(eleId).addEventListener(\"keyup\", function (event) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      document.getElementById(buttonId).click();\n    }\n  });\n}\n\nfunction setMFAKey(curId, nextId, nextFunc = null) {\n  if (nextFunc === null) {\n    nextFunc = function () {\n      document.getElementById(nextId).focus();\n    };\n  }\n\n  document.getElementById(curId).onkeypress = function (event) {\n    if (Number.parseInt(event.key) || Number.parseInt(event.key) === 0) {\n      document.getElementById(curId).value = event.key;\n      nextFunc();\n    } else {\n      event.preventDefault();\n    }\n  };\n}\n\nfunction getLoginData(isMFA) {\n  let ret = {};\n\n  if (isMFA) {\n    ret[KEY_MFA_KEY] = document.getElementById(ID_MFA_0).value + document.getElementById(ID_MFA_1).value + document.getElementById(ID_MFA_2).value + document.getElementById(ID_MFA_3).value + document.getElementById(ID_MFA_4).value + document.getElementById(ID_MFA_5).value;\n    ret[KEY_PRE_AUTH_KEY] = isMFA;\n  } else {\n    ret[KEY_USERNAME] = document.getElementById(ID_USERNAME).value;\n    ret[KEY_PASSWORD] = document.getElementById(ID_PASSWORD).value;\n  }\n\n  return ret;\n}\n\nfunction handleLoginError(modal, loginErrMsg) {\n  document.getElementById(ID_LOGIN_ERROR).innerHTML = loginErrMsg + \"<br>\";\n  let inputs = modal.getElementsByClassName(CLS_INPUT);\n\n  for (let inp in inputs) {\n    if (inputs.hasOwnProperty(inp)) {\n      inputs[inp].style.borderColor = \"red\";\n    }\n  }\n}\n\nfunction rendererMFALogin(modal, mainLoginDiv, config, callback, preAuthKey) {\n  mainLoginDiv.buildHTML(`\n        <span id=${ID_LOGIN_ERROR} style=\"color: red\"></span>\n        <br>\n        <label class=\"jeql-strong\">\n            2FA\n            <br>\n            <div style=\"width: 100%; display: flex; gap: 1%\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_0} maxlength=\"1\" size=\"1\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_1} maxlength=\"1\" size=\"1\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_2} maxlength=\"1\" size=\"1\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_3} maxlength=\"1\" size=\"1\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_4} maxlength=\"1\" size=\"1\">\n                <input class=\"${CLS_INPUT} ${CLS_INPUT_MFA}\" type=\"text\" id=${ID_MFA_5} maxlength=\"1\" size=\"1\">\n            </div>\n        </label>\n    `);\n  setMFAKey(ID_MFA_0, ID_MFA_1);\n  setMFAKey(ID_MFA_1, ID_MFA_2);\n  setMFAKey(ID_MFA_2, ID_MFA_3);\n  setMFAKey(ID_MFA_3, ID_MFA_4);\n  setMFAKey(ID_MFA_4, ID_MFA_5);\n  setMFAKey(ID_MFA_5, null, function () {\n    document.getElementById(ID_LOGIN_BUTTON).click();\n  });\n  bindButton(ID_MFA_5, ID_LOGIN_BUTTON);\n  document.getElementById(ID_LOGIN_BUTTON).addEventListener(\"click\", function () {\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(config, ACTION_LOGIN, function (loginErrMsg) {\n      if (loginErrMsg) {\n        handleLoginError(modal, loginErrMsg);\n        document.getElementById(ID_MFA_0).focus();\n        document.getElementById(ID_MFA_0).value = \"\";\n        document.getElementById(ID_MFA_1).value = \"\";\n        document.getElementById(ID_MFA_2).value = \"\";\n        document.getElementById(ID_MFA_3).value = \"\";\n        document.getElementById(ID_MFA_4).value = \"\";\n        document.getElementById(ID_MFA_5).value = \"\";\n      } else {\n        modal.closeModal();\n        callback();\n      }\n    }, getLoginData(preAuthKey));\n  });\n  document.getElementById(ID_MFA_0).focus();\n}\n\nfunction renderLoginInPage(element, callback) {\n  if (!callback) {\n    callback = function () {};\n  }\n\n  element.closeModal = function () {\n    element.innerHTML = \"\";\n  };\n\n  makeBuildable(element);\n  rendererLogin(element, window.JEQL_CONFIG, callback, null);\n}\nfunction login(data, rememberMe, loginHandleFunc) {\n  let config = window.JEQL_CONFIG;\n\n  if (rememberMe !== config.rememberMe) {\n    config.logout(false, true);\n    config.setRememberMe(rememberMe);\n  }\n\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(window.JEQL_CONFIG, ACTION_LOGIN, loginHandleFunc, data);\n}\n\nfunction rendererLogin(modal, config, callback, errMsg) {\n  modal.id = ID_LOGIN_MODAL;\n  modal.appendChild(elemBuilder(\"div\").buildClass(CLS_CENTER).buildHTML(`\n        <h1>\n            Login\n        </h1>\n    `));\n  let mainLoginDiv = elemBuilder(\"div\").buildHTML(`\n        <span id=${ID_LOGIN_ERROR} style=\"color: red\"></span>\n        <br>\n        <label class=\"jeql-strong\">\n            Username\n            <input class=\"${CLS_INPUT} jeql-input-full\" type=\"text\" placeholder=\"Enter username\" id=${ID_USERNAME}>\n        </label>\n        <label class=\"jeql-strong\">\n            Password \n            <input class=\"${CLS_INPUT} jeql-input-full\" type=\"password\" placeholder=\"Enter password\" id=${ID_PASSWORD}>\n        </label>\n    `);\n  modal.appendChild(mainLoginDiv);\n\n  if (errMsg) {\n    document.getElementById(ID_LOGIN_ERROR).innerHTML = errMsg + \"<br>\";\n  }\n\n  let rememberMeBox = modal.buildChild(\"div\").buildHTML(`\n        <label for=${ID_REMEMBER_ME}>Remember me</label>\n        <input type=\"checkbox\" id=${ID_REMEMBER_ME}>\n    `);\n  rememberMeBox.checked = config.rememberMe;\n\n  let createLoginButton = function (buttonDiv) {\n    return buttonDiv.buildChild(\"button\").buildClass(CLS_BUTTON).buildText(\"Login\").buildAttr(\"id\", ID_LOGIN_BUTTON);\n  };\n\n  let buttonDiv = elemBuilder(\"div\");\n  let button = createLoginButton(buttonDiv);\n  modal.appendChild(buttonDiv);\n  button.addEventListener(\"click\", function () {\n    if (document.getElementById(ID_REMEMBER_ME).checked !== config.rememberMe) {\n      config.logout(false, true);\n      config.setRememberMe(document.getElementById(ID_REMEMBER_ME).checked);\n    }\n\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(config, ACTION_LOGIN, function (loginErrMsg, mfaNext) {\n      if (mfaNext) {\n        mainLoginDiv.innerHTML = \"\";\n        rememberMeBox.removeElement();\n        let mfaError = mainLoginDiv.buildChild(\"span\").buildAttr(\"style\", \"display: none\");\n        buttonDiv.innerHTML = \"\";\n        let backButton = buttonDiv.buildChild(\"button\").buildClass(CLS_BUTTON).buildText(\"Back\");\n        createLoginButton(buttonDiv);\n        setTimeout(function () {\n          mfaError.innerText = ERR_MFA_TIMEOUT_OCCURRED;\n          backButton.click();\n        }, AUTH_MFA_EXPIRY_MS);\n        backButton.addEventListener(\"click\", function () {\n          modal.closeModal();\n          let mfaErrMsg = null;\n\n          if (mfaError.innerText.length !== 0) {\n            mfaErrMsg = mfaError.innerText;\n          }\n\n          showLoginModal(config, callback, mfaErrMsg);\n        });\n        rendererMFALogin(modal, mainLoginDiv, config, callback, loginErrMsg);\n      } else if (loginErrMsg) {\n        handleLoginError(modal, loginErrMsg);\n        document.getElementById(ID_USERNAME).focus();\n      } else {\n        modal.closeModal();\n        callback();\n      }\n    }, getLoginData());\n  });\n  bindButton(ID_USERNAME, ID_LOGIN_BUTTON);\n  bindButton(ID_PASSWORD, ID_LOGIN_BUTTON);\n  document.getElementById(ID_USERNAME).focus();\n}\n\nfunction showLoginModal(config, callback, errMsg) {\n  if (config.credentials) {\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(config, ACTION_LOGIN, callback, config.credentials);\n  } else {\n    renderModal(function (modal) {\n      rendererLogin(modal, config, callback, errMsg);\n    }, false);\n  }\n}\n\nfunction onRefreshToken(config, callback) {\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeEmpty(config, config.refreshAction, callback);\n}\n\nfunction formatAsTableHeader(inStr) {\n  let formatted = \"\";\n  let lastChar = \"_\";\n\n  for (let i = 0; i < inStr.length; i++) {\n    let char = inStr[i];\n    formatted += lastChar === \"_\" ? char.toUpperCase() : char;\n    lastChar = char;\n  }\n\n  return formatted.replace(\"_\", \" \");\n}\nfunction findGetParameter(parameterName) {\n  let result = null,\n      tmp = [];\n  location.search.substr(1).split(\"&\").forEach(function (item) {\n    tmp = item.split(\"=\");\n\n    if (tmp[0] === parameterName) {\n      result = decodeURIComponent(tmp[1]);\n    }\n  });\n  return result;\n}\n\nfunction getJaaqlUrl() {\n  let jaaqlUrl = findGetParameter(PARAMETER_JAAQL);\n\n  if (jaaqlUrl !== null) {\n    return jaaqlUrl;\n  }\n\n  let callLoc = window.location.protocol;\n\n  if (callLoc === PROTOCOL_FILE) {\n    callLoc = LOCAL_DEBUGGING_URL;\n  } else {\n    callLoc += \"/api\";\n  }\n\n  return callLoc;\n}\n\nfunction decodeJWT(jwt) {\n  let asBase64 = jwt.split('.')[1].replace(/-/g, '+').replace(/_/g, '/');\n  let json = decodeURIComponent(atob(asBase64).split('').map(function (char) {\n    return '%' + ('00' + char.charCodeAt(0).toString(16)).slice(-2);\n  }).join(''));\n  return JSON.parse(json);\n}\n\nfunction getJsonArrayFromStorage(storage, storageKey) {\n  let storageObj = storage.getItem(storageKey);\n\n  if (!storageObj) {\n    storageObj = {};\n    storage.setItem(storageKey, JSON.stringify(storageObj));\n  } else {\n    storageObj = JSON.parse(storageObj);\n  }\n\n  return storageObj;\n}\n\nfunction getAppConfig(config, allowFromUrl = false) {\n  try {\n    let application = config.getApplicationName();\n    let appConfig = null;\n\n    if (allowFromUrl) {\n      appConfig = findGetParameter(PARAMETER_CONFIGURATION);\n    }\n\n    let storedAppConfigs = getJsonArrayFromStorage(config.getStorage(), STORAGE_JAAQL_CONFIGS);\n\n    if (appConfig === null) {\n      let appConfigsForConfig = {};\n\n      if (config.base in storedAppConfigs) {\n        appConfigsForConfig = storedAppConfigs[config.base];\n      } else {\n        storedAppConfigs[config.base] = appConfigsForConfig;\n      }\n\n      if (application in appConfigsForConfig) {\n        appConfig = appConfigsForConfig[application];\n      } else {\n        appConfigsForConfig[application] = appConfig;\n      }\n    } else {\n      appConfig = appConfig.split(\",\"); //Stored as multiple JWTs, comma separated\n\n      let configName = appConfig.shift();\n\n      let configMap = token => ({\n        [decodeJWT(token)[JWT_KEY_CONFIG_NAME]]: token\n      });\n\n      configMap = Object.assign({}, ...appConfig.map(configMap));\n      appConfig = {};\n      appConfig[KEY_NAME] = configName;\n      appConfig[KEY_CONNECTIONS] = configMap;\n      let appConfigsForConfig = {};\n\n      if (config.base in storedAppConfigs) {\n        appConfigsForConfig = storedAppConfigs[config.base];\n      } else {\n        storedAppConfigs[config.base] = appConfigsForConfig;\n      }\n\n      appConfigsForConfig[application] = appConfig;\n    }\n\n    config.getStorage().setItem(STORAGE_JAAQL_CONFIGS, JSON.stringify(storedAppConfigs));\n    return appConfig;\n  } catch (err) {\n    // Something has gone wrong\n    console.error(ERR_WIPING_CONFIG);\n    console.error(err);\n    console.getStorage().removeItem(STORAGE_JAAQL_CONFIGS);\n  }\n}\n\nfunction selectAppConfig(config, callback, chosenConfig) {\n  let callData = {};\n  callData[KEY_APPLICATION] = config.getApplicationName();\n  callData[KEY_CONFIGURATION] = chosenConfig;\n\n  let updateStoredAppConfigs = function (config, callback, chosenConfig, connections) {\n    let connectionLookup = {};\n\n    for (let idx in connections) {\n      connectionLookup[connections[idx][KEY_DATASET]] = connections[idx][KEY_CONNECTION];\n    }\n\n    let configObj = {};\n    configObj[KEY_CONNECTIONS] = connectionLookup;\n    configObj[KEY_NAME] = chosenConfig;\n    let storedAppConfigs = getJsonArrayFromStorage(config.getStorage(), STORAGE_JAAQL_CONFIGS);\n    storedAppConfigs[config.base][config.getApplicationName()] = configObj;\n    config.getStorage().setItem(STORAGE_JAAQL_CONFIGS, JSON.stringify(storedAppConfigs));\n    callback(config);\n  };\n\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeBody(config, ACTION_CONFIGURATIONS_ASSIGNED_DATABASES, function (connections) {\n    updateStoredAppConfigs(config, callback, chosenConfig, connections);\n  }, callData);\n}\n\nfunction resetAppConfig(config, afterSelectAppConfig = null) {\n  if (afterSelectAppConfig === null) {\n    afterSelectAppConfig = function () {\n      console.error(ERR_IMPERATIVE_APP_CONFIG_FAILED);\n    };\n  }\n\n  let data = {};\n  data[KEY_APPLICATION] = config.getApplicationName();\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeBody(config, ACTION_CONFIGURATIONS, function (data) {\n    renderSelectAppConfig(config, afterSelectAppConfig, data);\n  }, data);\n}\n\nfunction getOrSelectAppConfig(config, afterSelectAppConfig = null, allowFromUrl = false, preventRecursion = false) {\n  let newAfterSelectAppConfig = afterSelectAppConfig;\n\n  if (afterSelectAppConfig) {\n    let curScriptParent = scriptParent();\n    let curScript = script();\n\n    newAfterSelectAppConfig = function (...args) {\n      document.currentScriptParent = curScriptParent;\n      document.theCurrentScript = curScript;\n      config.releaseQueues();\n      afterSelectAppConfig(...args);\n    };\n  }\n\n  let appConfig = getAppConfig(config, allowFromUrl);\n\n  if (appConfig !== null && appConfig.constructor === Object && KEY_CONNECTIONS in appConfig && KEY_NAME in appConfig) {\n    if (newAfterSelectAppConfig) {\n      newAfterSelectAppConfig(config);\n      return;\n    } else {\n      config.releaseQueues();\n      return appConfig;\n    }\n  }\n\n  if (!preventRecursion) {\n    resetAppConfig(config, newAfterSelectAppConfig);\n  }\n\n  let fallback = {};\n  fallback[KEY_CONNECTIONS] = {};\n  fallback[KEY_NAME] = null;\n  return fallback;\n}\n\nfunction storeJEQLDataToElement(elem, data) {\n  elem.setAttribute(ATTR_JEQL_DATA, btoa(JSON.stringify(data)));\n}\n\nfunction extractJEQLDataFromElement(elem) {\n  return JSON.parse(atob(elem.getAttribute(ATTR_JEQL_DATA)));\n}\n\nfunction scriptParent() {\n  if (document.currentScript) {\n    return document.currentScript.parentElement;\n  } else if (document.hasOwnProperty(\"currentScriptParent\")) {\n    return document.currentScriptParent;\n  } else {\n    return document.currentScript;\n  }\n}\nfunction script() {\n  if (document.currentScript) {\n    return document.currentScript;\n  } else if (document.hasOwnProperty(\"theCurrentScript\")) {\n    return document.theCurrentScript;\n  } else {\n    return document.currentScript;\n  }\n}\nfunction prepareQuery(query) {\n  if (query.hasOwnProperty(\"parameter\")) {\n    query[\"parameters\"] = query[\"parameter\"];\n    delete query.parameter;\n  }\n\n  if (query.hasOwnProperty(\"select\")) {\n    query[\"query\"] = \"SELECT \" + query[\"select\"];\n    delete query.select;\n  }\n\n  return query;\n}\nfunction scriptPrior() {\n  return script().previousElementSibling;\n}\nfunction foreach(query, renderer, asObjects = true) {\n  if (query.constructor !== Object) {\n    query = formQuery(window.JEQL_CONFIG, query);\n  }\n\n  let currentScriptParent = scriptParent();\n  let curScript = script();\n  submit(window.JEQL_CONFIG, query, function (data) {\n    document.currentScriptParent = currentScriptParent;\n    document.theCurrentScript = curScript;\n\n    for (let i = 0; i < data[KEY_ROWS].length; i++) {\n      if (asObjects) {\n        renderer(tupleToObject(data[KEY_ROWS][i], data[KEY_COLUMNS]));\n      } else {\n        renderer(data[KEY_ROWS[i]], data[KEY_COLUMNS]);\n      }\n    }\n  });\n}\nfunction render(formedQuery, renderFunc, config) {\n  let formedRenderFunc = renderFunc;\n\n  if (renderFunc.constructor === Object) {\n    formedRenderFunc = function (data) {\n      let body = null;\n      let doAlternative = data[KEY_ROWS].length === 0;\n\n      if (doAlternative) {\n        if (JEQL_FIESTA_ALTERNATIVE in renderFunc) {\n          renderFunc[JEQL_FIESTA_ALTERNATIVE](data[KEY_COLUMNS]);\n        }\n      } else {\n        if (JEQL_FIESTA_INTRODUCER in renderFunc) {\n          body = renderFunc[JEQL_FIESTA_INTRODUCER](data[KEY_COLUMNS]);\n        }\n\n        for (let i = 0; i < data[KEY_ROWS].length; i++) {\n          if (JEQL_FIESTA_EXPRESSION in renderFunc) {\n            renderFunc[JEQL_FIESTA_EXPRESSION](data[KEY_ROWS][i], body);\n          }\n\n          if (JEQL_FIESTA_SEPARATOR in renderFunc) {\n            renderFunc[JEQL_FIESTA_SEPARATOR](data[KEY_ROWS][i], body);\n          }\n        }\n\n        if (JEQL_FIESTA_TERMINATOR in renderFunc) {\n          renderFunc[JEQL_FIESTA_TERMINATOR](data[KEY_COLUMNS], body);\n        }\n      }\n    };\n  }\n\n  if (!config) {\n    config = window.JEQL_CONFIG;\n  }\n\n  submit(window.JEQL_CONFIG, formedQuery, formedRenderFunc);\n}\n\nfunction renderSelectAppConfig(config, callback, data) {\n  if (data.length === 1) {\n    selectAppConfig(config, callback, data[0][KEY_CONFIGURATION]);\n  } else if (data.length === 0) {\n    console.error(ERR_NO_FOUND_CONFIGURATION_FOR_USER);\n  } else {\n    renderModal(function (modal) {\n      let curAppConfig = getOrSelectAppConfig(config, null, false, true)[KEY_NAME];\n      modal.appendChild(elemBuilder(\"h1\").buildText(\"Select Configuration\"));\n      let table = elemBuilder(\"table\");\n      modal.appendChild(table);\n      let header = table.buildChild(\"tr\");\n\n      for (let idx in Object.keys(data[0])) {\n        header.buildChild(\"th\").buildText(formatAsTableHeader(Object.keys(data[0])[idx]));\n      }\n\n      header.buildChild(\"th\");\n\n      for (let idx in data) {\n        let row = table.buildChild(\"tr\");\n\n        if (data[idx][KEY_CONFIGURATION] === curAppConfig) {\n          row.buildClass(CLS_SELECTED_APP_CONFIG);\n        }\n\n        for (let key in data[idx]) {\n          row.buildChild(\"td\").buildText(data[idx][key]);\n        }\n\n        row.buildChild(\"td\").buildHTML(`\n                    <button id=\"${ID_SELECT_APP_CONFIG + idx}\" class=\"${CLS_BUTTON}\">Select</button>\n                `);\n        storeJEQLDataToElement(document.getElementById(ID_SELECT_APP_CONFIG + idx), data[idx]);\n        document.getElementById(ID_SELECT_APP_CONFIG + idx).addEventListener(\"click\", function (event) {\n          modal.closeModal();\n          selectAppConfig(config, callback, extractJEQLDataFromElement(event.target)[KEY_CONFIGURATION]);\n        });\n      }\n    }, false, CLS_MODAL_WIDE);\n  }\n}\n\nfunction renderAccountBanner(config) {// TODO render something that allows you to select configurations and access the account app\n}\n\nfunction fetchMyApplications(config, callback) {\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeEmpty(config, ACTION_FETCH_APPLICATIONS, callback);\n}\nfunction getAppUrl(config, appName) {\n  let data = {};\n  data[KEY_SEARCH] = `%${KEY_APPLICATION} LIKE '%${appName}'`;\n  fetchMyApplications(config, function (data) {\n    data = data[KEY_DATA];\n\n    for (let idx in data) {\n      if (data[idx][KEY_NAME] === appName) {\n        return data[idx][KEY_URL];\n      }\n    }\n\n    throw ERR_COULD_NOT_FIND_APPLICATION_WITH_NAME + `'${appName}'`;\n  });\n}\n\nfunction setConnection(config, json) {\n  let dataset = json[KEY_CONNECTION];\n  let appConfig = getOrSelectAppConfig(config)[KEY_CONNECTIONS];\n\n  if (!dataset) {\n    if (Object.keys(appConfig).length > 1) {\n      throw new Error(\"Must supply dataset as multiple datasets exist\");\n    } else if (appConfig.length === 0) {\n      resetAppConfig(config);\n    }\n\n    json[KEY_CONNECTION] = appConfig[Object.keys(appConfig)[0]];\n  } else {\n    if (dataset in appConfig) {\n      json[KEY_CONNECTION] = appConfig[dataset];\n    } else {\n      throw new Error(\"Dataset '\" + dataset + \" does not exist\");\n    }\n  }\n}\n\nfunction initPublic(application, onLoad, jaaqlUrl = null) {\n  init(application, onLoad, false, jaaqlUrl, false);\n}\nfunction getOrInitJEQLConfig(application, jaaqlUrl) {\n  if (window.hasOwnProperty(\"JEQL_CONFIG\")) {\n    return window.JEQL_CONFIG;\n  } else {\n    if (jaaqlUrl === null) {\n      jaaqlUrl = getJaaqlUrl();\n    } else {\n      if (!jaaqlUrl.startsWith(\"http\")) {\n        jaaqlUrl = \"https://www.\" + jaaqlUrl;\n      }\n\n      if (!jaaqlUrl.endsWith(\"/api\")) {\n        jaaqlUrl += \"/api\";\n      }\n    }\n\n    let setAuthTokenFunc = function (storage, authToken) {\n      let jaaqlTokens = getJsonArrayFromStorage(storage, STORAGE_JAAQL_TOKENS);\n      jaaqlTokens[jaaqlUrl] = authToken;\n      storage.setItem(STORAGE_JAAQL_TOKENS, JSON.stringify(jaaqlTokens));\n    };\n\n    let logoutFunc = function (storage, doReload, doCopy, invertedStorage) {\n      if (doCopy) {\n        invertedStorage.setItem(STORAGE_JAAQL_TOKENS, storage.getItem(STORAGE_JAAQL_TOKENS));\n        invertedStorage.setItem(STORAGE_JAAQL_CONFIGS, storage.getItem(STORAGE_JAAQL_CONFIGS));\n      }\n\n      storage.removeItem(STORAGE_JAAQL_TOKENS);\n      storage.removeItem(STORAGE_JAAQL_CONFIGS);\n\n      if (doReload) {\n        window.location.reload();\n      }\n    };\n\n    let config = new _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.RequestConfig(application, jaaqlUrl, ACTION_LOGIN, ACTION_REFRESH, showLoginModal, onRefreshToken, xHttpSetAuth, [ACTION_SUBMIT, ACTION_SUBMIT_FILE], setConnection, KEY_USERNAME, resetAppConfig, setAuthTokenFunc, logoutFunc);\n    config.setRememberMe(window.localStorage.getItem(STORAGE_JAAQL_TOKENS) !== null);\n    window.JEQL_CONFIG = config;\n    return config;\n  }\n}\nfunction init(application, onLoad, doRenderAccountBanner = true, jaaqlUrl = null, authenticated = true) {\n  if (!onLoad) {\n    onLoad = function () {};\n  }\n\n  let config = getOrInitJEQLConfig(application, jaaqlUrl);\n\n  if (!authenticated) {\n    let body = {};\n    body[KEY_APPLICATION] = application;\n    let credentials = _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(config, ACTION_FETCH_APPLICATION_PUBLIC_USER, null, body, null, false);\n\n    if (!credentials) {\n      console.error(\"No public user for application \" + application);\n      return;\n    }\n\n    config.setCredentials(credentials);\n  }\n\n  let jaaqlTokens = getJsonArrayFromStorage(config.getStorage(), STORAGE_JAAQL_TOKENS);\n  let authToken = null;\n\n  if (config.base in jaaqlTokens) {\n    authToken = jaaqlTokens[config.base];\n  }\n\n  config.authToken = authToken;\n\n  if (doRenderAccountBanner) {\n    renderAccountBanner(config);\n  }\n\n  getOrSelectAppConfig(config.clone(), onLoad, true);\n  return config;\n}\nfunction fetchSignupData(token, onFetched) {\n  let data = {};\n  data[KEY_INVITE_KEY] = token;\n\n  let preOnFetched = function (data) {\n    if (data.hasOwnProperty(KEY_PARAMETERS)) {\n      onFetched(data[KEY_PARAMETERS]);\n    } else {\n      onFetched({});\n    }\n  };\n\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeBody(window.JEQL_CONFIG, ACTION_FETCH_SIGNUP, preOnFetched, data);\n}\nfunction finishSignup(token, onFinished) {\n  let data = {};\n  data[KEY_INVITE_KEY] = token;\n\n  if (!onFinished) {\n    onFinished = function () {};\n  }\n\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(window.JEQL_CONFIG, ACTION_FINISH_SIGNUP, onFinished, data);\n}\nfunction signup(data, onsignup) {\n  if (!onsignup) {\n    onsignup = function () {};\n  }\n\n  if (typeof onsignup !== \"function\") {\n    let onsignupStr = onsignup;\n\n    onsignup = function (token) {\n      window.location.assign(onsignupStr + \"?token=\" + token);\n    };\n  }\n\n  data[KEY_APPLICATION] = window.JEQL_CONFIG.applicationName;\n\n  let signupFunc = function (ret) {\n    onsignup(ret[KEY_INVITE_KEY]);\n  };\n\n  if (!data.hasOwnProperty(data[KEY_TEMPLATE])) {\n    let getTemplateData = {};\n    getTemplateData[KEY_APPLICATION] = window.JEQL_CONFIG.applicationName;\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(window.JEQL_CONFIG, ACTION_FETCH_APPLICATION_DEFAULT_EMAIL_TEMPLATES, function (templates) {\n      data[KEY_TEMPLATE] = templates[KEY_TEMPLATE];\n      data[KEY_EXISTING_USER_TEMPLATE] = templates[KEY_EXISTING_USER_TEMPLATE];\n      _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(window.JEQL_CONFIG, ACTION_SIGNUP, signupFunc, null, data);\n    }, getTemplateData);\n  } else {\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(window.JEQL_CONFIG, ACTION_SIGNUP, signupFunc, null, data);\n  }\n}\nfunction signupWithToken(token, password, handleFunc) {\n  let data = {};\n  data[KEY_INVITE_KEY] = token;\n  data[KEY_PASSWORD] = password;\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(window.JEQL_CONFIG, ACTION_SIGNUP_WITH_TOKEN, handleFunc, null, data);\n}\nfunction signupWithTokenAndLogin(token, password, handleFunc, rememberMe) {\n  if (typeof handleFunc !== \"function\") {\n    let handleFuncStr = handleFunc;\n\n    handleFunc = function () {\n      window.location.assign(handleFuncStr + \"?token=\" + token);\n    };\n  }\n\n  let preHandleFunc = function (res) {\n    if (rememberMe !== null && rememberMe !== undefined) {\n      window.JEQL_CONFIG.setRememberMe(rememberMe);\n    }\n\n    let creds = {};\n    creds[KEY_USERNAME] = res[KEY_EMAIL];\n    creds[KEY_PASSWORD] = password;\n    window.JEQL_CONFIG.setCredentials(creds);\n    window.JEQL_CONFIG.authLocked = false;\n    getOrSelectAppConfig(window.JEQL_CONFIG, handleFunc, true);\n  };\n\n  signupWithToken(token, password, preHandleFunc);\n}\nfunction signupStatus(token, onFresh, onStarted, onAlreadyRegistered, onCompleted, onInvalid) {\n  signupStatusWithCode(token, null, onFresh, onStarted, onAlreadyRegistered, onCompleted, onInvalid);\n}\nfunction signupStatusWithCode(token, code, onFresh, onStarted, onAlreadyRegistered, onCompleted, onInvalid) {\n  let data = {};\n  data[KEY_INVITE_OR_POLL_KEY] = token;\n\n  if (code) {\n    data[KEY_INVITE_CODE] = code;\n  }\n\n  let renderFuncs = {};\n\n  renderFuncs[200] = function (res) {\n    let status = res[KEY_INVITE_KEY_STATUS];\n\n    if (status === SIGNUP_STARTED) {\n      onStarted();\n    } else if (status === SIGNUP_ALREADY_REGISTERED) {\n      onAlreadyRegistered();\n    } else if (status === SIGNUP_COMPLETED) {\n      onCompleted();\n    } else {\n      onFresh();\n    }\n  };\n\n  renderFuncs[422] = onInvalid;\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeSimple(window.JEQL_CONFIG, ACTION_SIGNUP_STATUS, renderFuncs, data);\n}\n\nfunction callbackDoNotRefreshConnections(res, config) {\n  resetAppConfig(config, function () {\n    console.error(ERR_COULD_NOT_REFRESH_APP_CONFIG);\n  });\n}\n\nfunction expiredConnectionHandler(res, config, action, renderFunc, body, json) {\n  let appConfig = getOrSelectAppConfig(config);\n  let reverseMap = {};\n\n  for (let idx in appConfig[KEY_CONNECTIONS]) {\n    reverseMap[appConfig[KEY_CONNECTIONS][idx]] = idx;\n  }\n\n  selectAppConfig(config, function () {\n    let newAppConfig = getOrSelectAppConfig(config);\n\n    if (json) {\n      json = JSON.parse(json);\n    } else {\n      json = _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.urlEncodedToJson(body);\n    }\n\n    let wasArray = true;\n\n    if (!Array.isArray(json)) {\n      wasArray = false;\n      json = [json];\n    }\n\n    for (let idx in json) {\n      json[idx][KEY_CONNECTION] = newAppConfig[KEY_CONNECTIONS][reverseMap[json[idx][KEY_CONNECTION]]];\n    }\n\n    if (!wasArray) {\n      json = json[0];\n    }\n\n    if (body) {\n      body = _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.jsonToUrlEncoded(json);\n      json = undefined;\n    }\n\n    let newRenderFuncs = { ...renderFunc\n    };\n    newRenderFuncs[HTTP_STATUS_CONNECTION_EXPIRED] = callbackDoNotRefreshConnections;\n    _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.make(config, action, newRenderFuncs, body, json);\n  }, appConfig[KEY_NAME]);\n}\n\nfunction formQuery(config, query, queryParameters = null, dataset = null, database = null) {\n  if (queryParameters === null) {\n    queryParameters = {};\n  }\n\n  let formed = {};\n  formed[KEY_QUERY] = query;\n  formed[KEY_PARAMETERS] = queryParameters;\n  formed[KEY_CONNECTION] = dataset;\n  formed[KEY_DATABASE] = database;\n  return formed;\n}\nfunction submitFile(config, input, renderFunc) {\n  submit(config, input, renderFunc, false, true);\n}\nfunction submit(config, input, renderFunc, doNotRefresh = false, asFile = false) {\n  let oldRenderFunc = renderFunc;\n\n  if (renderFunc.constructor !== Object) {\n    renderFunc = {};\n    renderFunc[HTTP_STATUS_OK] = oldRenderFunc;\n  }\n\n  renderFunc[HTTP_STATUS_CONNECTION_EXPIRED] = doNotRefresh ? callbackDoNotRefreshConnections : expiredConnectionHandler;\n  _requests_requests_js__WEBPACK_IMPORTED_MODULE_1__.makeJson(config, asFile ? ACTION_SUBMIT_FILE : ACTION_SUBMIT, renderFunc, input);\n}\n\n//# sourceURL=webpack://JEQL/./JEQL.js?");

/***/ }),

/***/ "./_JEQL_pre_package.js":
/*!******************************!*\
  !*** ./_JEQL_pre_package.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _JEQL_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JEQL.js */ \"./JEQL.js\");\n\nlet cur = document.currentScript;\nlet application = cur.getAttribute(\"application\");\nlet authenticated = true;\nlet doInit = false;\n\nif (cur.hasAttribute(\"access\")) {\n  doInit = true;\n  let access = cur.getAttribute(\"access\");\n\n  if (access === \"public\") {\n    authenticated = false;\n  } else if (access === \"authenticated\") {// Do nothing\n  } else {\n    console.error(\"JEQL access must be either 'public' or 'authenticated'\");\n  }\n}\n\nlet jaaql = null;\n\nif (cur.hasAttribute(\"jaaql\")) {\n  jaaql = cur.getAttribute(\"jaaql\");\n}\n\nif (doInit) {\n  if (authenticated) {\n    _JEQL_js__WEBPACK_IMPORTED_MODULE_0__.init(application, null, true, jaaql);\n  } else {\n    _JEQL_js__WEBPACK_IMPORTED_MODULE_0__.initPublic(application, null, jaaql);\n  }\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_JEQL_js__WEBPACK_IMPORTED_MODULE_0__);\n\n//# sourceURL=webpack://JEQL/./_JEQL_pre_package.js?");

/***/ }),

/***/ "./css_loader.js":
/*!***********************!*\
  !*** ./css_loader.js ***!
  \***********************/
/***/ (() => {

eval("function genStyleSheetEle(href, id) {\n  let link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.type = \"text/css\";\n  link.href = href;\n  link.id = id;\n  return link;\n}\n\nfunction genFont(href, id) {\n  let link = document.createElement(\"link\");\n  link.rel = \"stylesheet\";\n  link.href = href;\n  link.id = id;\n  return link;\n}\n\nfunction appendIfNoExist(parent, toAppend) {\n  if (document.getElementById(toAppend.id) === null) {\n    parent.appendChild(toAppend);\n  }\n}\n\nfunction loadStyleSheets() {\n  let baseDir = \"\";\n\n  if (document.currentScript) {\n    baseDir = document.currentScript.src.split(\"/\").slice(0, -1).join(\"/\") + \"/\";\n  } else {\n    if (window.location.protocol === \"file:\") {\n      baseDir = \"../../../../JEQL/\";\n    } else {\n      baseDir = \"/apps/JEQL/\";\n    }\n  }\n\n  let head = document.getElementsByTagName(\"head\")[0];\n  appendIfNoExist(head, genFont(\"https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap\", \"jeql_css_font\"));\n  appendIfNoExist(head, genStyleSheetEle(baseDir + \"JEQL.css\", \"jeql_css_main\"));\n  appendIfNoExist(head, genStyleSheetEle(baseDir + \"spinner/spinner.css\", \"jeql_css_spinner\"));\n}\n\nloadStyleSheets();\n\n//# sourceURL=webpack://JEQL/./css_loader.js?");

/***/ }),

/***/ "./requests/requests.js":
/*!******************************!*\
  !*** ./requests/requests.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HTTP_STATUS_DEFAULT\": () => (/* binding */ HTTP_STATUS_DEFAULT),\n/* harmony export */   \"RequestConfig\": () => (/* binding */ RequestConfig),\n/* harmony export */   \"jsonToUrlEncoded\": () => (/* binding */ jsonToUrlEncoded),\n/* harmony export */   \"make\": () => (/* binding */ make),\n/* harmony export */   \"makeBody\": () => (/* binding */ makeBody),\n/* harmony export */   \"makeEmpty\": () => (/* binding */ makeEmpty),\n/* harmony export */   \"makeJson\": () => (/* binding */ makeJson),\n/* harmony export */   \"makeSimple\": () => (/* binding */ makeSimple),\n/* harmony export */   \"urlEncodedToJson\": () => (/* binding */ urlEncodedToJson)\n/* harmony export */ });\n/* harmony import */ var _spinner_spinner_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../spinner/spinner.js */ \"./spinner/spinner.js\");\n\nlet ERR_UNEXPECTED_CRED_CHALLENGE = \"Unexpected credential challenge for request type simple\";\nlet HTTP_STATUS_DEFAULT = \"DEFAULT\";\n\nclass RequestConfig {\n  constructor(applicationName, base, authAction, refreshAction, loginFunc, refreshFunc, setXHttpAuth, submitActions, setConnectionAction, usernameField, reloadAppConfigFunc, authTokenSetFunc = null, logoutFunc = null, createSpinner = _spinner_spinner_js__WEBPACK_IMPORTED_MODULE_0__.createSpinner, destroySpinner = _spinner_spinner_js__WEBPACK_IMPORTED_MODULE_0__.destroySpinner) {\n    this.base = base;\n    this.authLocked = true;\n    this.authQueue = [];\n    this.applicationName = applicationName;\n    this.username = null;\n    this.authAction = authAction;\n    this.refreshAction = refreshAction;\n    this.loginFunc = loginFunc;\n    this.refreshFunc = refreshFunc;\n    this.authToken = null;\n    this.usernameField = usernameField;\n    this.reloadAppConfigFunc = reloadAppConfigFunc;\n    this.createSpinner = createSpinner;\n    this.destroySpinner = destroySpinner;\n    this.authTokenSetFunc = authTokenSetFunc;\n    this.setXHttpAuth = setXHttpAuth;\n    this.rememberMe = true;\n    this.logoutFunc = logoutFunc;\n    this.parent = null;\n    this.submitActions = submitActions;\n    this._setConnectionAction = setConnectionAction;\n\n    this.setConnectionAction = function (json) {\n      setConnectionAction(this, json);\n    };\n\n    this.credentials = null;\n  }\n\n  setCredentials(credentials) {\n    this.credentials = credentials;\n  }\n\n  setRememberMe(isRememberMe) {\n    this.rememberMe = isRememberMe;\n\n    if (this.parent) {\n      parent.rememberMe = isRememberMe;\n    }\n  }\n\n  clone() {\n    let ret = new RequestConfig(this.applicationName, this.base, this.authAction, this.refreshAction, this.loginFunc, this.refreshFunc, this.setXHttpAuth, this.submitActions, this._setConnectionAction, this.usernameField, this.reloadAppConfigFunc, this.authTokenSetFunc, this.logoutFunc, this.createSpinner, this.destroySpinner);\n    ret.rememberMe = this.rememberMe;\n    ret.parent = this;\n    ret.authLocked = false;\n    ret.setCredentials(this.credentials);\n    return ret;\n  }\n\n  getApplicationName() {\n    return this.applicationName;\n  }\n\n  getStorage() {\n    return this.rememberMe ? window.localStorage : window.sessionStorage;\n  }\n\n  getInvertedStorage() {\n    return this.rememberMe ? window.sessionStorage : window.localStorage;\n  }\n\n  logout(doReload = true, doCopy = false) {\n    this.credentials = null;\n    this.username = null;\n    this.resetAuthToken();\n\n    if (this.loginFunc !== null) {\n      this.logoutFunc(this.getStorage(), doReload, doCopy, this.getInvertedStorage());\n    }\n\n    if (this.parent !== null) {\n      this.parent.logout();\n    }\n  }\n\n  resetAuthToken() {\n    this.authToken = null;\n\n    if (this.authTokenSetFunc !== null) {\n      this.authTokenSetFunc(this.getStorage(), this.authToken);\n    }\n\n    if (this.parent !== null) {\n      this.parent.resetAuthToken();\n    }\n  }\n\n  releaseQueues() {\n    this.authLocked = false;\n\n    while (this.authQueue.length !== 0) {\n      this.authQueue.pop()();\n    }\n\n    if (this.parent !== null) {\n      this.parent.releaseQueues();\n    }\n  }\n\n  setAuthToken(authToken, username) {\n    let didReset = false;\n\n    if (this.username && this.username !== username && username) {\n      this.logout(false);\n      this.username = username;\n      didReset = true;\n    }\n\n    this.authToken = authToken;\n\n    if (this.authTokenSetFunc !== null) {\n      this.authTokenSetFunc(this.getStorage(), this.authToken);\n    }\n\n    if (this.parent !== null) {\n      this.parent.setAuthToken(authToken, username);\n    }\n\n    return didReset;\n  }\n\n}\nfunction jsonToUrlEncoded(element, key, list) {\n  list = list || [];\n\n  if (typeof element == 'object') {\n    for (let idx in element) {\n      jsonToUrlEncoded(element[idx], key ? key + '[' + idx + ']' : idx, list);\n    }\n  } else {\n    list.push(key + '=' + encodeURIComponent(element));\n  }\n\n  return list.join('&');\n}\n\nfunction getScriptParentElement() {\n  if (document.currentScript) {\n    return document.currentScript.parentElement;\n  } else {\n    return null;\n  }\n}\n\nfunction getScript() {\n  if (document.currentScript) {\n    return document.currentScript;\n  } else {\n    return null;\n  }\n}\n\nfunction urlEncodedToJson(urlEncoded) {\n  let encodeList = Array.from(urlEncoded.split(\"&\"));\n  let json = {};\n\n  for (let idx in encodeList) {\n    json[encodeList[idx].split(\"=\")[0]] = decodeURIComponent(encodeList[idx].split(\"=\")[1]);\n  }\n\n  return json;\n}\n\nfunction parseResponse(toParse) {\n  if (toParse.getResponseHeader('Content-Type').startsWith(\"application/json\")) {\n    return JSON.parse(toParse.response);\n  } else {\n    return toParse.response;\n  }\n}\n\nfunction getURL(method, body, json) {\n  if (method === \"GET\") {\n    if (body) {\n      return \"?\" + body;\n    } else if (json) {\n      throw new Error(\"Please make GET requests passing to the body argument, not json\");\n    }\n  }\n\n  return \"\";\n}\n\nfunction xhttpSendRequest(config, xhttp, method, body, json) {\n  config.createSpinner();\n\n  if (body && !json && method !== 'GET') {\n    xhttp.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n    xhttp.send(body);\n  } else if (json && !body && method !== 'GET') {\n    xhttp.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n    xhttp.send(json);\n  } else if (json && body && method !== 'GET') {\n    alert(\"Tell the developer off! They've provided both json and body data. Naughty\");\n  } else {\n    xhttp.send();\n  }\n}\n\nfunction getResponseCodeHandler(renderFunc, status) {\n  if (!renderFunc) {\n    return null;\n  }\n\n  if (renderFunc.constructor === Object) {\n    if (renderFunc.hasOwnProperty(status)) {\n      return renderFunc[status];\n    } else {\n      return null;\n    }\n  } else {\n    return status === 200 ? renderFunc : null;\n  }\n}\n\nfunction make(config, action, renderFunc, body, json, ignoreLock = true, loginUsername = null) {\n  let curScriptParent = getScriptParentElement();\n  let curScript = getScript();\n\n  if (config.authLocked && !ignoreLock) {\n    config.authQueue.push(function () {\n      document.currentScriptParent = curScriptParent;\n      document.theCurrentScript = curScript;\n      make(config, action, renderFunc, body, json);\n    });\n    return;\n  }\n\n  let resource = action.split(\" \")[1];\n  let url = config.base + resource;\n  let method = action.split(\" \")[0];\n  let isOauth = action === config.authAction;\n  let isRefresh = action === config.refreshAction;\n\n  if (config.authToken === null && !isOauth) {\n    let callback = function () {\n      make(config, action, renderFunc, body, json);\n    };\n\n    config.loginFunc(config, callback);\n    return;\n  }\n\n  let xhttp = new XMLHttpRequest();\n\n  xhttp.onreadystatechange = function () {\n    let res = null;\n    let origRenderFunc = null;\n\n    if (this.readyState === 4) {\n      config.destroySpinner();\n      origRenderFunc = renderFunc;\n      renderFunc = getResponseCodeHandler(renderFunc, this.status);\n      res = parseResponse(this);\n    }\n\n    if (this.readyState === 4 && this.status === 200) {\n      if (isOauth) {\n        let didReset = config.setAuthToken(res, loginUsername);\n\n        if (didReset) {\n          renderFunc = function () {\n            config.reloadAppConfigFunc(config, renderFunc);\n          };\n        }\n\n        renderFunc();\n      } else if (isRefresh) {\n        renderFunc();\n      } else {\n        renderFunc(res);\n      }\n    } else if (this.readyState === 4 && this.status === 202) {\n      if (isOauth) {\n        origRenderFunc(res, true);\n      }\n    } else if (this.readyState === 4 && this.status === 401) {\n      if (isOauth) {\n        origRenderFunc(\"Credentials incorrect. Please try again\");\n      } else if (isRefresh) {\n        config.resetAuthToken();\n        config.loginFunc(config, function () {\n          make(config, action, origRenderFunc, body, json);\n        }, \"Credentials expired. Please login again\");\n      } else {\n        config.refreshFunc(config, function () {\n          make(config, action, origRenderFunc, body, json);\n        });\n      }\n    } else if (this.readyState === 4) {\n      if (isOauth) {\n        renderFunc(this.response);\n      } else if (renderFunc !== null) {\n        renderFunc(res, config, action, origRenderFunc, body, json);\n      } else {\n        if (HTTP_STATUS_DEFAULT in origRenderFunc) {\n          origRenderFunc[HTTP_STATUS_DEFAULT](res, config, action, origRenderFunc, body, json);\n        } else {\n          console.error(\"Unexpected response code from server: \" + this.status + \" response: \" + this.response);\n        }\n      }\n    }\n  };\n\n  url += getURL(method, body, json);\n  xhttp.open(method, url, true);\n\n  if (!isOauth) {\n    config.setXHttpAuth(config, xhttp);\n  }\n\n  xhttpSendRequest(config, xhttp, method, body, json);\n}\nfunction makeJson(config, action, renderFunc, json) {\n  let isOauth = action === config.authAction;\n  let isRefresh = action === config.refreshAction;\n\n  if (config.authLocked && !isOauth && !isRefresh) {\n    let curScriptParent = getScriptParentElement();\n    let curScript = getScript();\n    config.authQueue.push(function () {\n      document.currentScriptParent = curScriptParent;\n      document.theCurrentScript = curScript;\n      makeJson(config, action, renderFunc, json);\n    });\n    return;\n  }\n\n  if (config.submitActions.includes(action)) {\n    config.setConnectionAction(json);\n  }\n\n  let username = null;\n\n  if (isOauth) {\n    username = json[config.usernameField];\n  }\n\n  make(config, action, renderFunc, undefined, JSON.stringify(json), true, username);\n}\nfunction makeBody(config, action, renderFunc, body) {\n  if (config.authLocked) {\n    let curScriptParent = getScriptParentElement();\n    let curScript = getScript();\n    config.authQueue.push(function () {\n      document.currentScriptParent = curScriptParent;\n      document.theCurrentScript = curScript;\n      makeBody(config, action, renderFunc, body);\n    });\n    return;\n  }\n\n  make(config, action, renderFunc, jsonToUrlEncoded(body), undefined, true);\n}\nfunction makeEmpty(config, action, renderFunc) {\n  if (config.authLocked) {\n    let curScriptParent = getScriptParentElement();\n    let curScript = getScript();\n    config.authQueue.push(function () {\n      document.currentScriptParent = curScriptParent;\n      document.theCurrentScript = curScript;\n      makeEmpty(config, action, renderFunc);\n    });\n    return;\n  }\n\n  make(config, action, renderFunc, undefined, undefined, true);\n}\nfunction makeSimple(config, action, renderFunc, body, json, async = true) {\n  let resource = action.split(\" \")[1];\n  let url = config.base + resource;\n  let method = action.split(\" \")[0];\n\n  if (body) {\n    body = jsonToUrlEncoded(body);\n  }\n\n  if (json) {\n    json = JSON.stringify(json);\n  }\n\n  if (!renderFunc) {\n    renderFunc = function () {};\n  }\n\n  let xhttp = new XMLHttpRequest();\n\n  if (async) {\n    xhttp.onreadystatechange = function () {\n      let origRenderFunc;\n\n      if (this.readyState === 4) {\n        config.destroySpinner();\n        let origRenderFunc = renderFunc;\n\n        if (typeof renderFunc === 'object') {\n          renderFunc = renderFunc[200];\n        }\n\n        if (this.status === 200) {\n          renderFunc(parseResponse(this));\n        } else if (this.status === 401) {\n          console.log(ERR_UNEXPECTED_CRED_CHALLENGE);\n        } else {\n          origRenderFunc[this.status](parseResponse(this));\n        }\n      }\n    };\n  }\n\n  url += getURL(method, body, json);\n  xhttp.open(method, url, async);\n  xhttpSendRequest(config, xhttp, method, body, json);\n\n  if (!async) {\n    config.destroySpinner();\n    return parseResponse(xhttp);\n  }\n}\n\n//# sourceURL=webpack://JEQL/./requests/requests.js?");

/***/ }),

/***/ "./spinner/spinner.js":
/*!****************************!*\
  !*** ./spinner/spinner.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createSpinner\": () => (/* binding */ createSpinner),\n/* harmony export */   \"destroySpinner\": () => (/* binding */ destroySpinner)\n/* harmony export */ });\n/* harmony import */ var _css_loader_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../css_loader.js */ \"./css_loader.js\");\n/* harmony import */ var _css_loader_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_css_loader_js__WEBPACK_IMPORTED_MODULE_0__);\n // Will import the CSS\n\nfunction createSpinner() {\n  let spinner = document.createElement(\"div\");\n  spinner.setAttribute(\"class\", \"jeql-spinner-outer\");\n  let subSpinner = document.createElement(\"div\");\n  subSpinner.setAttribute(\"class\", \"jeql-spinner\");\n  spinner.appendChild(subSpinner);\n  document.body.appendChild(spinner);\n}\nfunction destroySpinner() {\n  document.body.removeChild(document.getElementsByClassName(\"jeql-spinner-outer\")[0]);\n}\n\n//# sourceURL=webpack://JEQL/./spinner/spinner.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./_JEQL_pre_package.js");
/******/ 	__webpack_exports__ = __webpack_exports__["default"];
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});