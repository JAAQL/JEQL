!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JEQL=t():e.JEQL=t()}(self,(()=>(()=>{var e={576:()=>{function e(e,t){let n=document.createElement("link");return n.rel="stylesheet",n.type="text/css",n.href=e,n.id=t,n}function t(e,t){null===document.getElementById(t.id)&&e.appendChild(t)}!function(){let n="";n=document.currentScript?document.currentScript.src.split("/").slice(0,-1).join("/")+"/":"file:"===window.location.protocol?"../../../../JEQL/":"/apps/JEQL/";let i=document.getElementsByTagName("head")[0];t(i,function(e,t){let n=document.createElement("link");return n.rel="stylesheet",n.href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap",n.id="jeql_css_font",n}()),t(i,e(n+"JEQL.css","jeql_css_main")),t(i,e(n+"spinner/spinner.css","jeql_css_spinner"))}()}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";n.d(i,{default:()=>Ci});var e={};n.r(e),n.d(e,{ANY_STATUS:()=>u,ANY_STATUS_EXCEPT_5xx:()=>s,ANY_STATUS_EXCEPT_5xx_OR_400:()=>a,HTTP_STATUS_DEFAULT:()=>r,RequestConfig:()=>d,jsonToUrlEncoded:()=>p,make:()=>A,makeBody:()=>g,makeEmpty:()=>N,makeJson:()=>b,makeSimple:()=>I,urlEncodedToJson:()=>m});var t={};function o(){let e=document.createElement("div");e.setAttribute("class","jeql-spinner-outer");let t=document.createElement("div");t.setAttribute("class","jeql-spinner"),e.appendChild(t),document.body.appendChild(e)}function l(){document.body.removeChild(document.getElementsByClassName("jeql-spinner-outer")[0])}n.r(t),n.d(t,{ACTION_INTERNAL_APPLICATIONS:()=>re,ACTION_INTERNAL_APPLICATIONS_ADD:()=>ue,ACTION_INTERNAL_APPLICATIONS_DEL:()=>se,ACTION_INTERNAL_APPLICATIONS_DELCONF:()=>ae,ACTION_INTERNAL_ASSIGNED_DATABASES:()=>pe,ACTION_INTERNAL_ASSIGNED_DATABASE_ADD:()=>Ee,ACTION_INTERNAL_ASSIGNED_DATABASE_DEL:()=>fe,ACTION_INTERNAL_ASSIGNED_DATABASE_DELCONF:()=>me,ACTION_INTERNAL_CONFIG:()=>Te,ACTION_INTERNAL_CONFIG_ADD:()=>he,ACTION_INTERNAL_CONFIG_AUTH:()=>be,ACTION_INTERNAL_CONFIG_AUTH_ADD:()=>ge,ACTION_INTERNAL_CONFIG_AUTH_DEL:()=>Ne,ACTION_INTERNAL_CONFIG_AUTH_DELCONF:()=>Ie,ACTION_INTERNAL_CONFIG_DEL:()=>_e,ACTION_INTERNAL_CONFIG_DELCONF:()=>Ae,ACTION_INTERNAL_DATABASES:()=>ne,ACTION_INTERNAL_DATABASES_ADD:()=>ie,ACTION_INTERNAL_DATABASES_DEL:()=>oe,ACTION_INTERNAL_DATABASES_DELCONF:()=>le,ACTION_INTERNAL_DATASETS:()=>Se,ACTION_INTERNAL_DATASETS_ADD:()=>Ce,ACTION_INTERNAL_DATASETS_DEL:()=>Le,ACTION_INTERNAL_DATASETS_DELCONF:()=>Oe,ACTION_INTERNAL_EMAIL_ACCOUNTS:()=>q,ACTION_INTERNAL_EMAIL_ACCOUNTS_ADD:()=>x,ACTION_INTERNAL_EMAIL_ACCOUNTS_DEL:()=>J,ACTION_INTERNAL_EMAIL_ACCOUNTS_DELCONF:()=>U,ACTION_INTERNAL_EMAIL_TEMPLATES:()=>Q,ACTION_INTERNAL_EMAIL_TEMPLATES_ADD:()=>H,ACTION_INTERNAL_EMAIL_TEMPLATES_DEL:()=>Y,ACTION_INTERNAL_EMAIL_TEMPLATES_DELCONF:()=>K,ACTION_INTERNAL_NODES:()=>W,ACTION_INTERNAL_NODES_ADD:()=>$,ACTION_INTERNAL_NODES_DEL:()=>z,ACTION_INTERNAL_NODES_DELCONF:()=>X,ACTION_INTERNAL_NODE_AUTHS:()=>V,ACTION_INTERNAL_NODE_AUTHS_ADD:()=>Z,ACTION_INTERNAL_NODE_AUTHS_DEL:()=>ee,ACTION_INTERNAL_NODE_AUTHS_DELCONF:()=>te,ACTION_SEND_EMAIL:()=>ye,ARG_INVITE_TOKEN:()=>kt,ARG_RESET_TOKEN:()=>Rt,CLS_BUTTON:()=>Nt,CLS_BUTTON_NO:()=>St,CLS_BUTTON_YES:()=>It,CLS_MODAL:()=>_t,CLS_MODAL_AUTO:()=>gt,CLS_MODAL_WIDE:()=>At,CLS_MODAL_WIDEST:()=>bt,HTTP_STATUS_ACCEPTED:()=>L,HTTP_STATUS_DEFAULT:()=>S,HTTP_STATUS_OK:()=>C,KEY_ACCOUNT:()=>We,KEY_ADDRESS:()=>He,KEY_ALLOW_CONFIRM_SIGNUP_ATTEMPT:()=>$e,KEY_ALLOW_RESET_PASSWORD:()=>ze,KEY_ALLOW_SIGNUP:()=>Xe,KEY_APPLICATION:()=>et,KEY_APP_RELATIVE_PATH:()=>ft,KEY_COLUMNS:()=>Ue,KEY_CONFIGURATION:()=>Ze,KEY_CREATE:()=>ct,KEY_CREATE_USERNAME:()=>pt,KEY_DATA:()=>at,KEY_DATABASE:()=>qe,KEY_DATASET:()=>je,KEY_DATA_VALIDATION_TABLE:()=>mt,KEY_DATA_VALIDATION_VIEW:()=>Tt,KEY_DEFAULT_DATABASE:()=>Be,KEY_DEFAULT_EMAIL_ALREADY_SIGNED_UP_TEMPLATE:()=>De,KEY_DEFAULT_EMAIL_RESET_PASSWORD_TEMPLATE:()=>Pe,KEY_DEFAULT_EMAIL_SIGNUP_TEMPLATE:()=>ve,KEY_DELETED:()=>Ye,KEY_DESCRIPTION:()=>tt,KEY_DROP:()=>dt,KEY_EMAIL:()=>we,KEY_EXISTING_USER_TEMPLATE:()=>Re,KEY_FORCE_TRANSACTIONAL:()=>xe,KEY_HOST:()=>st,KEY_NAME:()=>rt,KEY_NODE:()=>Fe,KEY_PARAMETERS:()=>Me,KEY_PASSWORD:()=>Ve,KEY_PORT:()=>Qe,KEY_PRECEDENCE:()=>lt,KEY_PROTOCOL:()=>Ge,KEY_PUBLIC_USERNAME:()=>it,KEY_RECIPIENT_VALIDATION_VIEW:()=>ht,KEY_ROLE:()=>ot,KEY_ROWS:()=>Je,KEY_SEND_NAME:()=>ut,KEY_SUBJECT:()=>Et,KEY_TEMPLATE:()=>ke,KEY_URL:()=>nt,KEY_USERNAME:()=>Ke,RESET_COMPLETED:()=>M,RESET_NOT_STARTED:()=>k,RESET_STARTED:()=>R,SIGNUP_ALREADY_REGISTERED:()=>D,SIGNUP_COMPLETED:()=>P,SIGNUP_NOT_STARTED:()=>w,SIGNUP_STARTED:()=>v,callLoginDirectly:()=>ci,doConfirmDelete:()=>nn,elemBuilder:()=>Tn,fetchMyApplications:()=>Yn,fetchSignupData:()=>Vn,findGetParameter:()=>kn,finishSignup:()=>Zn,foreach:()=>Qn,formQuery:()=>hi,formatAsTableHeader:()=>Pn,getAppUrl:()=>Kn,getBuildableById:()=>hn,getOrInitJEQLConfig:()=>zn,getOrSelectAppConfig:()=>Fn,getPagedSearchingTableRefreshButton:()=>rn,getSearchObj:()=>en,init:()=>Xn,initPublic:()=>$n,login:()=>yn,loginWithInviteToken:()=>di,makeBuildable:()=>mn,modalExists:()=>tn,objectsToTuples:()=>En,pagedSearchingTable:()=>sn,pagedTableUpdate:()=>ln,prepareQuery:()=>Jn,render:()=>Hn,renderDocumentAndDownload:()=>ti,renderDocumentAndFetchUrl:()=>ni,renderLoginInPage:()=>On,renderModal:()=>An,renderModalAreYouSure:()=>Nn,renderModalError:()=>gn,renderModalOk:()=>bn,requests:()=>e,resetPassword:()=>ii,resetStatusWithCode:()=>fi,resetWithToken:()=>si,resetWithTokenAndLogin:()=>ai,script:()=>xn,scriptParent:()=>qn,scriptPrior:()=>Un,sendEmail:()=>oi,setPagedSearchingTableSortField:()=>un,signup:()=>li,signupStatus:()=>pi,signupStatusWithCode:()=>Ei,signupWithToken:()=>ri,signupWithTokenAndLogin:()=>ui,simpleSearchTransformer:()=>on,submit:()=>Ai,submitFile:()=>_i,tableRenderer:()=>fn,tupleToObject:()=>dn,tuplesToObjects:()=>pn}),n(576);let r="DEFAULT",u="ANY_STATUS",s="ANY_STATUS_EXCEPT_5xx",a="ANY_STATUS_EXCEPT_5xx_OR_400",c=(function(e,...t){return function(...n){var i=n[n.length-1]||{},o=[e[0]];return t.forEach((function(t,l){var r=Number.isInteger(t)?n[t]:i[t];o.push(r,e[l+1])})),o.join("")}})`No response handler found for HTTP response with code ${"code"}`;class d{constructor(e,t,n,i,r,u,s,a,c,d,p,E,f=null,m=null,T=o,h=l){this.base=t,this.authLocked=!0,this.authQueue=[],this.applicationName=e,this.username=null,this.authAction=n,this.refreshAction=i,this.loginFunc=r,this.refreshFunc=u,this.authToken=null,this.usernameField=d,this.reloadAppConfigFunc=p,this.createSpinner=T,this.destroySpinner=h,this.authTokenSetFunc=f,this.rememberMeFunc=E,this.setXHttpAuth=s,this.rememberMe=!0,this.logoutFunc=m,this.parent=null,this.submitActions=a,this._setConnectionAction=c,this.setConnectionAction=function(e){c(this,e)},this.credentials=null}setCredentials(e){this.credentials=e}setRememberMe(e){this.rememberMe=e,this.parent&&(parent.rememberMe=e),this.rememberMeFunc(this,e)}clone(){let e=new d(this.applicationName,this.base,this.authAction,this.refreshAction,this.loginFunc,this.refreshFunc,this.setXHttpAuth,this.submitActions,this._setConnectionAction,this.usernameField,this.reloadAppConfigFunc,this.rememberMeFunc,this.authTokenSetFunc,this.logoutFunc,this.createSpinner,this.destroySpinner);return e.rememberMe=this.rememberMe,e.parent=this,e.authLocked=!1,e.authToken=this.authToken,e.setCredentials(this.credentials),e}getApplicationName(){return this.applicationName}getStorage(){return this.rememberMe?window.localStorage:window.sessionStorage}getInvertedStorage(){return this.rememberMe?window.sessionStorage:window.localStorage}logout(e=!0,t=!1){this.credentials=null,this.username=null,t||(this.resetAuthToken(),null!==this.logoutFunc&&(this.logoutFunc(this,this.getStorage()),this.logoutFunc(this,this.getInvertedStorage(),!0),e&&window.location.reload()),null!==this.parent&&this.parent.logout(e,!0))}resetAuthToken(){this.authToken=null,null!==this.authTokenSetFunc&&this.authTokenSetFunc(this.getStorage(),this.authToken),null!==this.parent&&this.parent.resetAuthToken()}releaseQueues(){for(this.authLocked=!1;0!==this.authQueue.length;)this.authQueue.pop()();null!==this.parent&&this.parent.releaseQueues()}setAuthToken(e,t){let n=!1;return this.username&&this.username!==t&&t&&(this.logout(!1),this.username=t,n=!0),this.authToken=e,null!==this.authTokenSetFunc&&this.authTokenSetFunc(this.getStorage(),this.authToken),null!==this.parent&&this.parent.setAuthToken(e,t),n}}function p(e,t,n){if(n=n||[],"object"==typeof e)for(let i in e)p(e[i],t?t+"["+i+"]":i,n);else n.push(t+"="+encodeURIComponent(e));return n.join("&")}function E(){return document.currentScript?document.currentScript.parentElement:null}function f(){return document.currentScript?document.currentScript:null}function m(e){let t=Array.from(e.split("&")),n={};for(let e in t)n[t[e].split("=")[0]]=decodeURIComponent(t[e].split("=")[1]);return n}function T(e){return e.getResponseHeader("Content-Type").startsWith("application/json")?JSON.parse(e.response):e.response}function h(e,t,n){if("GET"===e){if(t)return"?"+t;if(n)throw new Error("Please make GET requests passing to the body argument, not json")}return""}function _(e,t,n,i,o){e.createSpinner(),i&&!o&&"GET"!==n?(t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(i)):o&&!i&&"GET"!==n?(t.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.send(o)):o&&i&&"GET"!==n?alert("Tell the developer off! They've provided both json and body data. Naughty"):t.send()}function A(e,t,n,i,o,l=!0,u=null){let s=E(),a=f();if(e.authLocked&&!l)return void e.authQueue.push((function(){document.currentScriptParent=s,document.theCurrentScript=a,A(e,t,n,i,o)}));let c=t.split(" ")[1],d=e.base+c,p=t.split(" ")[0],m=t===e.authAction,b=t===e.refreshAction;if(null===e.authToken&&!m){let l=function(){A(e,t,n,i,o)};return void e.loginFunc(e,l)}let g=new XMLHttpRequest;g.onreadystatechange=function(){let l=null,s=null;4===this.readyState&&(e.destroySpinner(),s=n,n=function(e,t){return e?e.constructor===Object?e.hasOwnProperty(t)?e[t]:null:200===t?e:null:null}(n,this.status),l=T(this)),4===this.readyState&&200===this.status?m?(e.setAuthToken(l,u)&&(n=function(){e.reloadAppConfigFunc(e,n)}),n()):b?(e.setAuthToken(l),n()):n(l):4===this.readyState&&202===this.status?m&&s(l,!0):4===this.readyState&&401===this.status?m?s("Credentials incorrect. Please try again"):b?(e.resetAuthToken(),e.loginFunc(e,(function(){A(e,t,s,i,o)}),"Credentials expired. Please login again")):e.refreshFunc(e,(function(){A(e,t,s,i,o)})):4===this.readyState&&(m?n(this.response):null!==n?n(l,e,t,s,i,o):r in s?s[r](l,e,t,s,i,o):console.error("Unexpected response code from server: "+this.status+" response: "+this.response))},d+=h(p,i,o),g.open(p,d,!0),m||e.setXHttpAuth(e,g),_(e,g,p,i,o)}function b(e,t,n,i){let o=t===e.authAction,l=t===e.refreshAction;if(e.authLocked&&!o&&!l){let o=E(),l=f();return void e.authQueue.push((function(){document.currentScriptParent=o,document.theCurrentScript=l,b(e,t,n,i)}))}e.submitActions.includes(t)&&e.setConnectionAction(i);let r=null;o&&(r=i[e.usernameField]),A(e,t,n,void 0,JSON.stringify(i),!0,r)}function g(e,t,n,i){if(e.authLocked){let o=E(),l=f();e.authQueue.push((function(){document.currentScriptParent=o,document.theCurrentScript=l,g(e,t,n,i)}))}else A(e,t,n,p(i),void 0,!0)}function N(e,t,n){if(e.authLocked){let i=E(),o=f();e.authQueue.push((function(){document.currentScriptParent=i,document.theCurrentScript=o,N(e,t,n)}))}else A(e,t,n,void 0,void 0,!0)}function I(e,t,n,i,o,l=!0){let r=t.split(" ")[1],d=e.base+r,E=t.split(" ")[0];i&&(i=p(i)),o&&(o=JSON.stringify(o)),n||(n=function(){});let f=new XMLHttpRequest;if(l&&(f.onreadystatechange=function(){if(4===this.readyState){e.destroySpinner();let t=n;"object"==typeof n&&(n=n[200]);let i="5"===this.status.toString()[0];if(200===this.status)n(T(this));else if(401===this.status)console.log("Unexpected credential challenge for request type simple");else if(this.status in t)t[this.status](T(this));else if(a in t&&!i&&400!==this.status)t[a](T(this));else if(s in t&&!i)t[s](T(this));else{if(!(u in t))throw c({code:this.status});t[u](T(this))}}}),d+=h(E,i,o),f.open(E,d,l),_(e,f,E,i,o),!l)return e.destroySpinner(),T(f)}let S=r;console.log("Loaded JEQL library, version 2.2.18");let C=200,L=202,O="JAAQL_TOKENS",y="JAAQL_CONFIGS",w=0,v=1,D=2,P=3,k=0,R=1,M=2,j="POST /account/signup/request",B="POST /account/reset-password",F="POST /oauth/token",G="GET /applications/default-templates",q="GET /internal/emails/accounts",x="POST /internal/emails/accounts",J="DELETE /internal/emails/accounts",U="POST /internal/emails/accounts/confirm-deletion",Q="GET /internal/emails/templates",H="POST /internal/emails/templates",Y="DELETE /internal/emails/templates",K="POST /internal/emails/templates/confirm-deletion",W="GET /internal/nodes",$="POST /internal/nodes",z="DELETE /internal/nodes",X="POST /internal/nodes/confirm-deletion",V="GET /internal/nodes/credentials",Z="POST /internal/nodes/credentials",ee="DELETE /internal/nodes/credentials",te="POST /internal/nodes/credentials/confirm-deletion",ne="GET /internal/databases",ie="POST /internal/databases",oe="DELETE /internal/databases",le="POST /internal/databases/confirm-deletion",re="GET /internal/applications",ue="POST /internal/applications",se="DELETE /internal/applications",ae="POST /internal/applications/confirm-deletion",ce="POST /submit",de="POST /submit-file",pe="GET /internal/applications/configurations/assigned-databases",Ee="POST /internal/applications/configurations/assigned-databases",fe="DELETE /internal/applications/configurations/assigned-databases",me="POST /internal/applications/configurations/assigned-databases/confirm-deletion",Te="GET /internal/applications/configurations",he="POST /internal/applications/configurations",_e="DELETE /internal/applications/configurations",Ae="POST /internal/applications/configurations/confirm-deletion",be="GET /internal/applications/configurations/authorizations",ge="POST /internal/applications/configurations/authorizations",Ne="DELETE /internal/applications/configurations/authorizations",Ie="POST /internal/applications/configurations/authorizations/confirm-deletion",Se="GET /internal/applications/datasets",Ce="POST /internal/applications/datasets",Le="DELETE /internal/applications/datasets",Oe="POST /internal/applications/datasets/confirm-deletion",ye="POST /emails",we="email",ve="default_email_signup_template",De="default_email_already_signed_up_template",Pe="default_reset_password_template",ke="template",Re="existing_user_template",Me="parameters",je="dataset",Be="default_database",Fe="node",Ge="protocol",qe="database",xe="force_transactional",Je="rows",Ue="columns",Qe="port",He="address",Ye="deleted",Ke="username",We="account",$e="allow_confirm_signup_attempt",ze="allow_reset_password",Xe="allow_signup",Ve="password",Ze="configuration",et="application",tt="description",nt="url",it="public_username",ot="role",lt="precedence",rt="name",ut="send_name",st="host",at="data",ct="create",dt="drop",pt="create_username",Et="subject",ft="app_relative_path",mt="data_validation_table",Tt="data_validation_view",ht="recipient_validation_view",_t="jeql-modal",At="jeql-modal-wide",bt="jeql-modal-widest",gt="jeql-modal-auto",Nt="jeql-button",It="jeql-button-yes",St="jeql-button-no",Ct="jeql-table-header-sort",Lt="jeql-table-header-sort-span",Ot="&nbsp;-",yt="&nbsp;&#9650;",wt="&nbsp;&#9660;",vt="jeql-data",Dt="jeql-paging-table",Pt="jeql-sort-direction",kt="invite_token",Rt="reset_token",Mt="jeql-login-error",jt="jeql-username",Bt="jeql-password",Ft="jeql-remember-me",Gt="jeql-mfa-0",qt="jeql-mfa-1",xt="jeql-mfa-2",Jt="jeql-mfa-3",Ut="jeql-mfa-4",Qt="jeql-mfa-5",Ht="jeql-login-button",Yt="jeql-select-app-config-",Kt="refresh",Wt="filtered",$t="total",zt="pages",Xt="size",Vt="from",Zt="sort";function en(e,t,n,i){let o={};return o.page=e,o.size=t,o.search=n,o.sort=i,o}function tn(){return 0!==document.body.getElementsByClassName(_t).length}function nn(e,t,n,i,o){g(window.JEQL_CONFIG,n,(function(e){(t={}).deletion_key=e.deletion_key,b(window.JEQL_CONFIG,i,o,t)}),t)}function on(e){return function(t){if(""===t)return t;let n="";for(let i=0;i<e.length;i++)0!==i&&(n+=" OR "),n+=e[i]+" LIKE '%"+t+"%'";return n}}function ln(e,t){let n=e.id,i=n+"-"+Kt,o=n+"-"+$t,l=n+"-"+Wt,r=n+"-"+Vt,u=n+"-to",s=document.getElementById(n+"-cur"),a=parseInt(s.innerText),c=document.getElementById(n+"-"+zt),d=parseInt(document.getElementById(n+"-"+Xt).value),p=Math.ceil(t.records_filtered/d),E=function(e){s.innerText=e.target.innerHTML,document.getElementById(i).click()};if(c.innerHTML="",c.appendChild(Tn("button").buildText("1").buildBoolean("disabled",1===a).buildEventListener("click",E)),a>3&&(p<8||4===a?c.appendChild(Tn("button").buildText("2").buildBoolean("disabled",2===a).buildEventListener("click",E)):c.appendChild(Tn("button").buildText("...").buildBoolean("disabled",!0))),p>6&&p===a){let e=a-4;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>5&&p-a<2&&a>5){let e=a-3;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>4&&p-a<3&&a>4){let e=a-2;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>1&&a-1!==p){let e=a>2?a-1:2;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>2&&a!==p){let e=a>3?a:3;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>3&&a<p&&(p!==a+1||4===p)){let e=a>3?a+1:4;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p>6&&a<4){let e=5;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}if(p-a>2&&p>5)if(p<8||p-a<4){let e=p-1;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}else c.appendChild(Tn("button").buildText("...").buildBoolean("disabled",!0));if(p>4||p===a&&(3===a||4===a)){let e=p;c.appendChild(Tn("button").buildText(e.toString()).buildBoolean("disabled",a===e).buildEventListener("click",E))}document.getElementById(o).innerText=t.records_total,document.getElementById(l).innerText=t.records_filtered,0===t.records_filtered?document.getElementById(r).innerText="0":document.getElementById(r).innerText=(a*d-d+1).toString(),document.getElementById(u).innerText=Math.min(a*d,t.records_filtered).toString()}function rn(e){return document.getElementById(e+"-"+Kt)}function un(e,t){document.getElementById(e+"-"+Zt).innerText=t}function sn(e,t,n=null){n||(n=function(e){return e}),mn(e),e.buildBoolean(Dt,!0);let i=e.id,o=i+"-"+Kt,l=i+"-"+$t,r=i+"-"+Wt,u=i+"-"+zt,s=i+"-"+Xt,a=i+"-"+Vt,c=i+"-search",d=i+"-last-search",p=i+"-to",E=i+"-cur",f=i+"-"+Zt;e.buildOlderSibling("div").buildHTML(`\n        <label>\n            Search: \n            <input type="text" id="${c}"/>\n        </label>\n        <label>\n            Page Size:\n            <select id="${s}">\n                <option value="10">10</option>\n                <option value="25">25</option>\n                <option value="50">50</option>\n                <option value="100">100</option>\n                <option value="250">250</option>\n                <option value="999999999">All</option>\n            </select>\n        </label>\n        <button id="${o}">Search</button>\n        <span id="${E}" style="display:none">1</span>\n        <span id="${f}" style="display:none"></span>\n        <span id="${d}" style="display:none"></span>\n    `),e.buildSibling("div").buildHTML(`\n        <div id="${u}"></div><div>Showing <span id="${a}"></span> to <span id="${p}"></span> of <span id="${r}"></span>/<span id="${l}"> records</span></div>\n    `),mn(document.getElementById(u)),document.getElementById(s).addEventListener("change",(function(){document.getElementById(E).innerText="1",t(0,parseInt(document.getElementById(s).value),n(document.getElementById(c).value),document.getElementById(f).innerText)})),document.getElementById(o).addEventListener("click",(function(){document.getElementById(d).innerHTML!==document.getElementById(c).value&&(document.getElementById(E).innerText="1"),document.getElementById(d).value=document.getElementById(c).value,t(parseInt(document.getElementById(E).innerText)-1,parseInt(document.getElementById(s).value),n(document.getElementById(c).value),document.getElementById(f).innerText)})),t(0,10,n(document.getElementById(c).value),"")}function an(e,t){let n=Tn(t);return e.appendChild(n),n}function cn(e,t){return e.innerHTML+=t,e}function dn(e,t){let n={};for(let i=0;i<t.length;i++)if(t[i].constructor===Object){let o=Object.keys(t[i])[0],l={};l[Ue]=t[i][o],l[Je]=e[i],n[o]=pn(l)}else n[t[i]]=e[i];return n}function pn(e){let t=e[Ue],n=e[Je],i=[];for(let e=0;e<n.length;e++)i.push(dn(n[e],t));return i}function En(e){let t={};t[Ue]=[],t[Je]=[];for(let n=0;n<e.length;n++){0===n&&(t[Ue]=Object.keys(e[n]));let i=[];for(let o=0;o<t[Ue].length;o++)i.push(e[n][t[Ue][o]]);t[Je].push(i)}return t}function fn(e,t,n,i){i||(i=[]);let o=null,l=null;if(t){let e=t.getElementsByClassName(Ct);for(let t=0;t<e.length;t++){let n=e[t].getElementsByClassName(Lt)[0];n.getAttribute(Pt)!==Ot&&(o=e[t].childNodes[0].data,l=n.getAttribute(Pt))}t.innerHTML="",mn(t)}else t=Tn(t),document.body.appendChild(t);let r=t.getAttribute(Dt),u=t.buildChild("tr");for(let n in Object.keys(e[Ue])){if(i.includes(e[Ue][n]))continue;let s=Pn(e[Ue][n]),a=u.buildChild("th").buildClass("jeql-table-header").buildText(s);if(r){a.buildClass(Ct);let i=a.buildChild("span").buildClass(Lt).buildHTML(Ot).buildAttr(Pt,Ot);s===o&&(i.buildAttr(Pt,l),i.innerHTML=l),a.buildEventListener().buildEventListener("click",(function(){if(i.getAttribute(Pt)===Ot){i.innerHTML=yt,i.setAttribute(Pt,yt);let o=t.getElementsByClassName(Lt);for(let e=0;e<o.length;e++)o[e]!==i&&(o[e].setAttribute(Pt,Ot),o[e].innerHTML=Ot);un(t.id,e[Ue][n]+" ASC")}else i.getAttribute(Pt)===yt?(i.innerHTML=wt,i.setAttribute(Pt,wt),un(t.id,e[Ue][n]+" DESC")):(i.innerHTML=Ot,i.setAttribute(Pt,Ot),un(t.id,""));rn(t.id).click()}))}}u.buildChild("th");for(let o in e[Je]){let l=t.buildChild("tr"),r=function(){let t=-1;for(let n in e[Je][o])t+=1,i.includes(e[Ue][t])||l.buildChild("td").buildText(e[Je][o][n])};n?n(l,e,o,r):r()}}function mn(e){return e.removeElement=function(){e.parentNode.removeChild(e)},e.buildClass=function(t){return function(e,t){Array.isArray(t)||(t=[t]);for(let n in t)e.classList.add(t[n]);return e}(e,t)},e.buildAttr=function(t,n){return function(e,t,n){return e.setAttribute(t,n),e}(e,t,n)},e.buildBoolean=function(t,n){return function(e,t,n){return n&&e.setAttribute(t,t),e}(e,t,n)},e.buildText=function(t){return function(e,t){return e.innerText=t,e}(e,t)},e.buildHTML=function(t){return cn(e,t)},e.resetHTML=function(t){return e.innerHTML="",cn(e,t)},e.buildChild=function(t){return"string"==typeof t?an(e,t):(e.appendChild(t),e)},e.buildRow=function(){return an(e,"tr")},e.buildForeach=function(t,n){for(let i=0;i<t.length;i++){let o=n(t[i],e);o&&("string"==typeof o?e.buildHTML(o):e.appendChild(o))}return e},e.getParent=function(){return mn(e.parentNode)},e.buildSibling=function(t){return function(e,t){let n=Tn(t);return e.after(n),n}(e,t)},e.buildEventListener=function(t,n){return function(e,t,n){return e.addEventListener(t,n),e}(e,t,n)},e.buildOlderSibling=function(t){return function(e,t){let n=Tn(t);return e.parentNode.insertBefore(n,e),n}(e,t)},e}function Tn(e){let t=document.createElement(e);return mn(t),t}function hn(e){return mn(document.getElementById(e))}function _n(e,t){t.setRequestHeader("Authentication-Token",e.authToken)}function An(e,t=!0,n=_t,i=null){let o=document.createElement("div");document.body.appendChild(o),o.setAttribute("class","jeql-modal-outer");let l=Tn("div");if(o.appendChild(l),l.classList.add(n),null!==i&&l.classList.add(i),t){o.classList.add("jeql-cursor-pointer");let e=Tn("span").buildClass("jeql-modal-close").buildHTML("&times;");l.appendChild(e),e.addEventListener("click",(function(){document.body.removeChild(o)})),o.addEventListener("click",(function(e){e.target===o&&document.body.removeChild(o)}),!1)}let r=l.buildChild("div");r.closeModal=function(){o.parentElement.removeChild(o)},e(r)}function bn(e,t=null,n="Success!"){t||(t=function(){}),An((function(i){let o=i.closeModal;i.closeModal=function(){o(),t()},i.buildHTML(`\n            <h1>${n}</h1>\n            ${e}\n        `).buildChild("button").buildText("Ok").buildClass(Nt).buildEventListener("click",(function(){i.closeModal()}))}),!1)}function gn(e,t="Error!"){}function Nn(e,t,n="Are you sure?",i="Yes",o="No"){An((function(l){l.buildHTML(`\n            <h1>${n}</h1>\n            ${e}\n        `).buildChild("button").buildText(i).buildClass([Nt,It]).buildEventListener("click",(function(){l.closeModal(),t()})).buildSibling("button").buildText(o).buildClass([Nt,St]).buildEventListener("click",l.closeModal)}),!1)}function In(e,t){document.getElementById(e).addEventListener("keyup",(function(e){13===e.keyCode&&(e.preventDefault(),document.getElementById(t).click())}))}function Sn(e,t,n=null){null===n&&(n=function(){document.getElementById(t).focus()}),document.getElementById(e).onkeypress=function(t){Number.parseInt(t.key)||0===Number.parseInt(t.key)?(document.getElementById(e).value=t.key,n()):t.preventDefault()}}function Cn(e){let t={};return e?(t.mfa_key=document.getElementById(Gt).value+document.getElementById(qt).value+document.getElementById(xt).value+document.getElementById(Jt).value+document.getElementById(Ut).value+document.getElementById(Qt).value,t.pre_auth_key=e):(t[Ke]=document.getElementById(jt).value,t[Ve]=document.getElementById(Bt).value),t}function Ln(e,t){document.getElementById(Mt).innerHTML=t+"<br>";let n=e.getElementsByClassName("jeql-input");for(let e in n)n.hasOwnProperty(e)&&(n[e].style.borderColor="red")}function On(e,t){t||(t=function(){}),e.closeModal=function(){e.innerHTML=""},mn(e),wn(e,window.JEQL_CONFIG,t,null)}function yn(e,t,n){let i=window.JEQL_CONFIG;i.logout(!1),t!==i.rememberMe&&i.setRememberMe(t),b(window.JEQL_CONFIG,F,n,e)}function wn(e,t,n,i){e.id="jeql-login-modal",e.appendChild(Tn("div").buildClass("jeql-center").buildHTML("\n        <h1>\n            Login\n        </h1>\n    "));let o=Tn("div").buildHTML('\n        <span id=jeql-login-error style="color: red"></span>\n        <br>\n        <label class="jeql-strong">\n            Username\n            <input class="jeql-input jeql-input-full" type="text" placeholder="Enter username" id=jeql-username>\n        </label>\n        <label class="jeql-strong">\n            Password \n            <input class="jeql-input jeql-input-full" type="password" placeholder="Enter password" id=jeql-password>\n        </label>\n    ');e.appendChild(o),i&&(document.getElementById(Mt).innerHTML=i+"<br>");let l=e.buildChild("div").buildHTML('\n        <label for=jeql-remember-me>Remember me</label>\n        <input type="checkbox" id=jeql-remember-me>\n    ');l.checked=t.rememberMe;let r=function(e){return e.buildChild("button").buildClass(Nt).buildText("Login").buildAttr("id",Ht)},u=Tn("div"),s=r(u);e.appendChild(u),s.addEventListener("click",(function(){document.getElementById(Ft).checked!==t.rememberMe&&(t.logout(!1,!0),t.setRememberMe(document.getElementById(Ft).checked)),b(t,F,(function(i,s){if(s){o.innerHTML="",l.removeElement();let s=o.buildChild("span").buildAttr("style","display: none");u.innerHTML="";let a=u.buildChild("button").buildClass(Nt).buildText("Back");r(u),setTimeout((function(){s.innerText="MFA timeout hit. Please login again",a.click()}),12e4),a.addEventListener("click",(function(){e.closeModal();let i=null;0!==s.innerText.length&&(i=s.innerText),vn(t,n,i)})),function(e,t,n,i,o){t.buildHTML('\n        <span id=jeql-login-error style="color: red"></span>\n        <br>\n        <label class="jeql-strong">\n            2FA\n            <br>\n            <div style="width: 100%; display: flex; gap: 1%">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-0 maxlength="1" size="1">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-1 maxlength="1" size="1">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-2 maxlength="1" size="1">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-3 maxlength="1" size="1">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-4 maxlength="1" size="1">\n                <input class="jeql-input jeql-input-mfa" type="text" id=jeql-mfa-5 maxlength="1" size="1">\n            </div>\n        </label>\n    '),Sn(Gt,qt),Sn(qt,xt),Sn(xt,Jt),Sn(Jt,Ut),Sn(Ut,Qt),Sn(Qt,null,(function(){document.getElementById(Ht).click()})),In(Qt,Ht),document.getElementById(Ht).addEventListener("click",(function(){b(n,F,(function(t){t?(Ln(e,t),document.getElementById(Gt).focus(),document.getElementById(Gt).value="",document.getElementById(qt).value="",document.getElementById(xt).value="",document.getElementById(Jt).value="",document.getElementById(Ut).value="",document.getElementById(Qt).value=""):(e.closeModal(),i())}),Cn(o))})),document.getElementById(Gt).focus()}(e,o,t,n,i)}else i?(Ln(e,i),document.getElementById(jt).focus()):(e.closeModal(),n())}),Cn())})),In(jt,Ht),In(Bt,Ht),document.getElementById(jt).focus()}function vn(e,t,n){e.credentials?b(e,F,t,e.credentials):An((function(i){wn(i,e,t,n)}),!1)}function Dn(e,t){N(e,e.refreshAction,t)}function Pn(e){let t="",n="_";for(let i=0;i<e.length;i++){let o=e[i];t+="_"===n?o.toUpperCase():o,n=o}return t.replace("_"," ")}function kn(e){let t=null,n=[];return location.search.substring(1).split("&").forEach((function(i){n=i.split("="),n[0]===e&&(t=decodeURIComponent(n[1]))})),t}function Rn(e){let t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)}function Mn(e,t){let n=e.getItem(t);return n?n=JSON.parse(n):(n={},e.setItem(t,JSON.stringify(n))),n}function jn(e,t,n){let i={};i[et]=e.getApplicationName(),i[Ze]=n,g(e,"GET /configurations/assigned-databases",(function(i){!function(e,t,n,i){let o={};for(let e in i)o[i[e][je]]=i[e].connection;let l={};l.connections=o,l[rt]=n;let r=Mn(e.getStorage(),y);r[e.base][e.getApplicationName()]=l,e.getStorage().setItem(y,JSON.stringify(r)),t(e)}(e,t,n,i)}),i)}function Bn(e,t=null){null===t&&(t=function(){console.error("Tried to get app config in an imperative manner yet app config was not set")});let n={};n[et]=e.getApplicationName(),g(e,"GET /configurations",(function(n){!function(e,t,n){1===n.length?jn(e,t,n[0][Ze]):0===n.length?console.error("No configuration found for user"):An((function(i){let o=Fn(e,null,!1,!0)[rt];i.appendChild(Tn("h1").buildText("Select Configuration"));let l=Tn("table");i.appendChild(l);let r=l.buildChild("tr");for(let e in Object.keys(n[0]))r.buildChild("th").buildText(Pn(Object.keys(n[0])[e]));r.buildChild("th");for(let r in n){let u=l.buildChild("tr");n[r][Ze]===o&&u.buildClass("jeql-selected-app-config");for(let e in n[r])u.buildChild("td").buildText(n[r][e]);u.buildChild("td").buildHTML(`\n                    <button id="${Yt+r}" class="${Nt}">Select</button>\n                `),Gn(document.getElementById(Yt+r),n[r]),document.getElementById(Yt+r).addEventListener("click",(function(n){var o;i.closeModal(),jn(e,t,(o=n.target,JSON.parse(atob(o.getAttribute(vt))))[Ze])}))}}),!1,At)}(e,t,n)}),n)}function Fn(e,t=null,n=!1,i=!1){let o=t;if(t){let n=qn(),i=xn();o=function(...o){document.currentScriptParent=n,document.theCurrentScript=i,e.releaseQueues(),t(...o)}}let l=function(e,t=!1){try{let n=e.getApplicationName(),i=null;t&&(i=kn("configuration"));let o=Mn(e.getStorage(),y);if(null===i){let t={};e.base in o?t=o[e.base]:o[e.base]=t,n in t?i=t[n]:t[n]=i}else{i=i.split(",");let t=i.shift(),l=e=>({[Rn(e).name]:e});l=Object.assign({},...i.map(l)),i={},i[rt]=t,i.connections=l;let r={};e.base in o?r=o[e.base]:o[e.base]=r,r[n]=i}return e.getStorage().setItem(y,JSON.stringify(o)),i}catch(e){console.error("Error when loading app config, wiping config"),console.error(e),console.getStorage().removeItem(y)}}(e,n);if(null!==l&&l.constructor===Object&&"connections"in l&&rt in l)return o?void o(e):(e.releaseQueues(),l);i||Bn(e,o);let r={connections:{}};return r[rt]=null,r}function Gn(e,t){e.setAttribute(vt,btoa(JSON.stringify(t)))}function qn(){return document.currentScript?document.currentScript.parentElement:document.hasOwnProperty("currentScriptParent")?document.currentScriptParent:document.currentScript}function xn(){return document.currentScript?document.currentScript:document.hasOwnProperty("theCurrentScript")?document.theCurrentScript:document.currentScript}function Jn(e){return e.hasOwnProperty("parameter")&&(e[Me]=e.parameter,delete e.parameter),e.hasOwnProperty("select")&&(e.query="SELECT "+e.select,delete e.select),e}function Un(){return xn().previousElementSibling}function Qn(e,t,n=!0){e.constructor!==Object&&(e=hi(window.JEQL_CONFIG,e));let i=qn(),o=xn();Ai(window.JEQL_CONFIG,e,(function(e){document.currentScriptParent=i,document.theCurrentScript=o;for(let i=0;i<e[Je].length;i++)n?t(dn(e[Je][i],e[Ue])):t(e[Je[i]],e[Ue])}))}function Hn(e,t,n){let i=t;t.constructor===Object&&(i=function(e){let n=null;if(0===e[Je].length)"alternative"in t&&t.alternative(e[Ue]);else{"introducer"in t&&(n=t.introducer(e[Ue]));for(let i=0;i<e[Je].length;i++)"expression"in t&&t.expression(e[Je][i],n),"separator"in t&&t.separator(e[Je][i],n);"terminator"in t&&t.terminator(e[Ue],n)}}),n||(n=window.JEQL_CONFIG),Ai(window.JEQL_CONFIG,e,i)}function Yn(e,t){N(e,"GET /applications",t)}function Kn(e,t){Yn(e,(function(e){e=e[at];for(let n in e)if(e[n][rt]===t)return e[n][nt];throw`Could not find application with name '${t}'`}))}function Wn(e,t){let n=t.connection,i=Fn(e).connections;if(n){if(!(n in i))throw new Error("Dataset '"+n+" does not exist");t.connection=i[n]}else{if(Object.keys(i).length>1)throw new Error("Must supply dataset as multiple datasets exist");0===i.length&&Bn(e),t.connection=i[Object.keys(i)[0]]}}function $n(e,t,n=null){Xn(e,t,!1,n,!1)}function zn(e,t){if(window.hasOwnProperty("JEQL_CONFIG"))return window.JEQL_CONFIG;{null===t?t=function(){let e,t=kn("jaaql");return null!==t?t:(e="file:"===window.location.protocol?"http://127.0.0.1:6060":window.location.origin+"/api",e)}():t.startsWith("http")||(t="https://www."+t).endsWith("/api")||(t+="/api");let n=function(e){let t=e.getInvertedStorage(),n=e.getStorage(),i=Mn(t,y),o=Mn(n,y);for(let e in i)e in o||(o[e]={});e.getStorage().setItem(y,JSON.stringify(o))},i=new d(e,t,F,"POST /oauth/refresh",vn,Dn,_n,[ce,de],Wn,Ke,Bn,n,(function(e,n){let i=Mn(e,O);i[t]=n,e.setItem(O,JSON.stringify(i))}),(function(e,n,i){let o=Mn(n,O),l=Mn(n,y);o&&t in o&&delete o[t],l&&t in l&&delete l[t],n.setItem(y,JSON.stringify(l)),n.setItem(O,JSON.stringify(o)),i&&(n.removeItem(O),n.removeItem(y))}));return i.setRememberMe(null!==window.localStorage.getItem(O)),window.JEQL_CONFIG=i,i}}function Xn(e,t,n=!0,i=null,o=!0){t||(t=function(){});let l=zn(e,i);if(!o){let t={};t[et]=e;let n=I(l,"GET /applications/public-user",null,t,null,!1);if(!n)return void console.error("No public user for application "+e);l.setCredentials(n)}let r=Mn(l.getStorage(),O),u=null;return l.base in r&&(u=r[l.base]),l.authToken=u,o&&!0!==o&&(l.authToken=o),Fn(l.clone(),t,!0),l}function Vn(e,t){let n={};n.invite_key=e,g(window.JEQL_CONFIG,"GET /account/signup/fetch",(function(e){e.hasOwnProperty(Me)?t(e[Me]):t({})}),n)}function Zn(e,t){let n={};n.invite_key=e,t||(t=function(){}),b(window.JEQL_CONFIG,"POST /account/signup/finish",t,n)}function ei(e,t,n,i,o){let l={};l[rt]=t,l[Me]=n,l.create_file=e;let r=function(e){o&&(e.as_attachment=o);let t={200:function(e){if(i)i(e);else{let t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("target","_blank"),document.body.appendChild(t),t.click(),document.body.removeChild(t)}},425:function(){setTimeout((function(){r(e)}),125)}};b(window.JEQL_CONFIG,"GET /documents",t,e)};b(window.JEQL_CONFIG,"POST /documents",r,l)}function ti(e,t,n,i){ei(!0,e,t,n,i)}function ni(e,t,n){ei(!1,e,t,n)}function ii(e,t,n){if(t||(t=function(){}),n||(n=function(){throw"Could not signup!"}),"function"!=typeof t){let e=t;t=function(t){let n=e.includes("?")?"&":"?";window.location.assign(e+n+encodeURIComponent(Rt)+"="+encodeURIComponent(t))}}e[et]=window.JEQL_CONFIG.applicationName;let i={200:function(e){t(e.reset_key)}};if(i[a]=n,e.hasOwnProperty(e[ke]))I(window.JEQL_CONFIG,B,i,null,e);else{let t={};t[et]=window.JEQL_CONFIG.applicationName,I(window.JEQL_CONFIG,G,(function(t){e[ke]=t[Pe],I(window.JEQL_CONFIG,B,i,null,e)}),t)}}function oi(e,t,n,i,o){let l={};l[et]=window.JEQL_CONFIG.applicationName,l[Me]=t,l.attachments=n,l[ke]=e;let r={};r[200]=i,r[a]=o,b(window.JEQL_CONFIG,ye,r,l)}function li(e,t,n){if(t||(t=function(){}),n||(n=function(){throw"Could not signup!"}),"function"!=typeof t){let e=t;t=function(t){let n=e.includes("?")?"&":"?";window.location.assign(e+n+encodeURIComponent(kt)+"="+encodeURIComponent(t))}}e[et]=window.JEQL_CONFIG.applicationName;let i={200:function(e){t(e.invite_key)}};if(i[a]=n,e.hasOwnProperty(e[ke]))I(window.JEQL_CONFIG,j,i,null,e);else{let t={};t[et]=window.JEQL_CONFIG.applicationName,I(window.JEQL_CONFIG,G,(function(t){e[ke]=t[ke],e[Re]=t[Re],I(window.JEQL_CONFIG,j,i,null,e)}),t)}}function ri(e,t,n){let i={};i.invite_key=e,i[Ve]=t,I(window.JEQL_CONFIG,"POST /account/signup/activate",n,null,i)}function ui(e,t,n,i,o){if("function"!=typeof n){let t=n;n=function(){window.location.assign(t+"?token="+e)}}let l=function(){Vn(e,n)},r={200:function(e){null!=i&&window.JEQL_CONFIG.setRememberMe(i);let n={};n[Ke]=e[we],n[Ve]=t,window.JEQL_CONFIG.setCredentials(n),window.JEQL_CONFIG.authLocked=!1,Fn(window.JEQL_CONFIG,l,!0)}};o&&(r[a]=o),ri(e,t,r)}function si(e,t,n){let i={};i.reset_key=e,i[Ve]=t,I(window.JEQL_CONFIG,"POST /account/reset-password/reset",n,null,i)}function ai(e,t,n,i,o){if("function"!=typeof n){let t=n;n=function(){window.location.assign(t+"?token="+e)}}let l={200:function(e){null!=i&&window.JEQL_CONFIG.setRememberMe(i);let o={};o[Ke]=e[we],o[Ve]=t,window.JEQL_CONFIG.setCredentials(o),window.JEQL_CONFIG.authLocked=!1,Fn(window.JEQL_CONFIG,(function(){e.hasOwnProperty(Me)?n(e[Me]):n({})}),!0)}};o&&(l[a]=o),si(e,t,l)}function ci(e,t,n,i,o){null!=n&&window.JEQL_CONFIG.setRememberMe(n);let l={200:function(){Fn(window.JEQL_CONFIG,i,!0)}};l[a]=o;let r={};r[Ke]=e,r[Ve]=t,b(window.JEQL_CONFIG,F,l,r)}function di(e,t,n,i,o,l){if("function"!=typeof o){let e=o;o=function(){window.location.assign(e+"?token="+i)}}ci(e,t,n,(function(){Vn(i,o)}),l)}function pi(e,t,n,i,o,l){Ei(e,null,t,n,i,o,l)}function Ei(e,t,n,i,o,l,r){let u={};u.invite_or_poll_key=e,t&&(u.invite_code=t);let s={200:function(e){let t=e.invite_key_status;t===v?i():t===D?o():t===P?l():n()}};s[a]=r,I(window.JEQL_CONFIG,"GET /account/signup/status",s,u)}function fi(e,t,n,i,o,l){let r={};r.reset_or_poll_key=e,t&&(r.reset_code=t);let u={200:function(e){let t=e.reset_key_status;t===R?i():t===M?o():n()}};u[a]=l,I(window.JEQL_CONFIG,"GET /account/reset-password/status",u,r)}function mi(e,t){Bn(t,(function(){console.error("Could not refresh app config connection token")}))}function Ti(e,t,n,i,o,l){let r=Fn(t),u={};for(let e in r.connections)u[r.connections[e]]=e;jn(t,(function(){let e=Fn(t);l=l?JSON.parse(l):m(o);let r=!0;Array.isArray(l)||(r=!1,l=[l]);for(let t in l)l[t].connection=e.connections[u[l[t].connection]];r||(l=l[0]),o&&(o=p(l),l=void 0);let s={...i};s[419]=mi,A(t,n,s,o,JSON.stringify(l))}),r[rt])}function hi(e,t,n=null,i=null,o=null){null===n&&(n={});let l={};return l.query=t,l[Me]=n,l.connection=i,l[qe]=o,l}function _i(e,t,n){Ai(e,t,n,!1,!0)}function Ai(e,t,n,i=!1,o=!1){let l=n;n.constructor!==Object&&((n={})[C]=l),n[419]=i?mi:Ti,b(e,o?de:ce,n,t)}let bi=document.currentScript,gi=bi.getAttribute("application"),Ni=!0,Ii=!1;if(bi.hasAttribute("access")){Ii=!0;let e=bi.getAttribute("access");"public"===e?Ni=!1:"authenticated"===e||console.error("JEQL access must be either 'public' or 'authenticated'")}let Si=null;bi.hasAttribute("jaaql")&&(Si=bi.getAttribute("jaaql")),Ii&&(Ni?Xn(gi,null,!0,Si):$n(gi,null,Si));const Ci=t})(),i.default})()));